<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE> Библиотека языка C GNU glibc: Информационная Система</TITLE>
 <LINK HREF="glibc-27.html" REL=next>
 <LINK HREF="glibc-25.html" REL=previous>
 <LINK HREF="glibc.html#toc26" REL=contents>
</HEAD>
<body bgcolor="#DDE1C2">
<LINK REL="stylesheet" href="http://www.opennet.ru/opennet4.css" type="text/css">
<!--htdig_noindex-->
<FORM method="get" action="http://www.opennet.ru/search.shtml">
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
<TR>
<TD VALIGN="BOTTOM" BGCOLOR="#E9EAD6" style="background: #E9EAD6 url('http://www.opennet.ru/back.gif') repeat-x bottom left">
<A HREF="http://www.opennet.ru/"><IMG SRC="http://www.opennet.ru/opennet2.gif" HEIGHT=60 WIDTH=249 ALT="The OpenNET Project" BORDER="0"></A><br>
</TD>

<TD BGCOLOR="#B0B190" WIDTH="1"><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=1 WIDTH=1 ALT=""></TD>

<TD VALIGN=TOP ALIGN=RIGHT WIDTH="470" HEIGHT="70" BGCOLOR="#D9DAC6">
<TABLE BORDER=0 CELLPADDING=1 WIDTH="470">
<TR>
<TD HEIGHT=60 BGCOLOR="#D9DAC6">

<script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
 style="display:inline-block;width:468px;height:60px"
 data-ad-client="ca-pub-2075278885744463"
 data-ad-slot="4070171090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</TD>
</TR>
</TABLE>
</TD>

<TD BGCOLOR="#B0B190" WIDTH="1"><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=1 WIDTH=1 ALT=""></TD>
<TD WIDTH="40" BGCOLOR="#E9EAD6" style="background: #E9EAD6 url('http://www.opennet.ru/back.gif') repeat-x bottom left">&nbsp;</TD>
<TD BGCOLOR="#B0B190" WIDTH="1"><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=1 WIDTH=1 ALT=""></TD>

<TD VALIGN=TOP ALIGN=RIGHT WIDTH="130" BGCOLOR="#E9EAD6" ROWSPAN=3>
<a              
href="http://click.opennet.ru/cgi-bin/opennet/hjump.cgi?lanbilling9" target=_blank><img              
src="http://www.opennet.ru/img/lanbilling9.gif" width=130 height=125 border=0 alt=""></a>

</TD>

</TR>

<TR BGCOLOR="#B0B190"><TD COLSPAN=6><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=1 WIDTH=1 ALT=""></TD></TR>


<TR BGCOLOR="#E9EAD6">
<TD ALIGN=CENTER COLSPAN=5>
<table width="100%">
<tr>
<td rowspan=2 width=300 nowrap class="h">
<INPUT type=hidden name=exclude value="index|/man.shtml"><A HREF="http://www.opennet.ru/search.shtml" class="h"><u>Поиск</u></A>&nbsp;(<A HREF="http://www.opennet.ru/keywords/" class="h">теги</A>):&nbsp;<INPUT type="text" size="20" name="words" value="" title='для поиска в google наберите "g фраза"'>
</td><td width="20%">
&nbsp;   <A HREF="http://www.opennet.ru/opennews/" class="h"><b><u>НОВОСТИ</u></b></A> (<a href="http://www.opennet.ru/news/opennet.shtml" class="h">+</a>)
</td><td width="20%">
  <A HREF="http://www.opennet.ru/mp/" class="h"><b><u>КОНТЕНТ</u></b></A>
</td><td width="20%">
  <A HREF="http://wiki.opennet.ru" class="h"><b><u>WIKI</u></b></A>
</td><td width="20%">
   <A HREF="http://www.opennet.ru/man.shtml" class="h"><b><u>MAN'ы</u></b></A>
</td><td width="20%">
   <A HREF="http://www.opennet.ru/forum/" class="h"><b><u>ФОРУМ</u></b></A>
</td></tr>
</table>
</TD>
<TD BGCOLOR="#B0B190" WIDTH="1"><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=1 WIDTH=1 ALT=""></TD>
</TR>
<TR BGCOLOR="#B0B190"><TD COLSPAN=7><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=2 WIDTH=1 ALT=""></TD></TR>
</TABLE>

<div style="float: left; width: 279; text-align: left;padding-right: 60px;" id=adv><A HREF="http://www.ip-as.ru" target=_blank><IMG SRC="http://www.opennet.ru/img/ipas3.gif" BORDER="0" width="279" height="40"></A></div>
<div style="padding-top: 0px;position:absolute;left:50%;margin-left:-235px;width:470px;" id=adv2>
<script language=JavaScript src="http://www.opennet.ru/cgi-bin/opennet/hints.cgi?itsoft"></script> 
</div>
<div style="width: 279;float: right;" id=adv3>
</div>
<div style="clear: both;"></div>
<br>

<script language="JavaScript"><!--
d=document;a='';r=escape(d.referrer);a+=';r='+r;
js=10; d.write('<img src="http://top.list.ru/counter'+
'?id=77689;js='+js+a+';rand='+Math.random()+
'" alt="" height=1 width=1>');
if(js>11)d.write('<'+'!-- ')//--></script><noscript><img
src="http://top.list.ru/counter?js=na;id=77689"
height=1 width=1 alt="">
</noscript>

</FORM>
<!--/htdig_noindex-->


<table  BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" style="margin-bottom: 5px;margin-top: 5px;">
<tr><td>
<TABLE  BORDER=0 CELLSPACING=0 CELLPADDING=4 BGCOLOR="#E9EAD6" WIDTH="100%">
<TR BGCOLOR="#C7CBB1"><TD><FONT COLOR="#000090">
<b><a href="http://www.opennet.ru/docs/">Каталог документации</a> / 
<a href="http://www.opennet.ru/docs/124.shtml">Раздел "Программирование, языки"</a> /
<a href="index.html">Оглавление документа</a>
</b>
</TD></TR>
</TABLE>
</TD></TR>
<TR BGCOLOR="#B0B190"><TD><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=3 WIDTH=1 ALT=""></TD></TR>
</TABLE>

<A HREF="glibc-27.html">Вперед</A>
<A HREF="glibc-25.html">Назад</A>
<A HREF="glibc.html#toc26">Содержание</A>
<HR>
<H2><A NAME="s26">26. Информационная Система</A></H2>

<P>
<P>
<P>Эта глава описывает функции, которые возвращают информацию 
относительно специфической машины, тип аппаратных средств, тип 
программного обеспечения, и имя индивидуальной машины.
<P>
<H2><A NAME="ss26.1">26.1 Главная Идентификация</A>
</H2>

<P>
<P>Этот раздел объясняет, как идентифицировать специфическую 
машину, на которой ваша программа выполняется. Идентификация машины 
состоит из имени главной ЭВМ Internet и адреса Internet; см. Раздел 
11.5 [Именное пространство Internet].
<P>Прототипы для этих функций появляются в " unistd.h ". Команды 
оболочки hostname и hostid работают, вызывая их.
<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
       int gethostname (char *name, size_t size)  (функция)
</PRE>
</CODE></BLOCKQUOTE>

Эта функция возвращает имя главной машины в массиве name. 
Аргумент size определяет размер этого массива, в байтах.
<P>Возвращаемое значение - 0 при успехе и -1 при отказе. В 
библиотеке GNU C gethostname терпит неудачу, если размер не 
достаточно большой; Вы можете пробовать снова с большим массивом. 
Следующее errno условие ошибки определено для этой функции:
<DL>
<DT><B>ENAMETOOLONG </B><DD><P>
<P>Аргумент size - меньше чем размер главного имени плюс один.
</DL>

На некоторых системах, имеется символ для максимально возможной 
длины главного имени: MAXHOSTNAMELEN. Он определен в " sys/param.h 
". Но Вы не можете расчитывать на его существование, так что более 
чисто обработать отказ и попытаться снова.
<P>Gethostname сохраняет начало главного имени в name, даже если 
главное имя полностью не будет сохранено. Для некоторых целей, 
усеченное главное имя достаточно. Если так, то Вы можете 
игнорировать код ошибки.
<BLOCKQUOTE><CODE>
<PRE>
       int sethostname (const char *name, size_t length)  (функция)
</PRE>
</CODE></BLOCKQUOTE>
       Sethostname функция устанавливает имя главной машины как name. 
Только привилегированные процессы могут делать это. Обычно это 
случается только один раз, при начальной загрузке системы.
<P>Возвращаемое значение - 0 при успехе и -1 при отказе. Следующее 
errno условие ошибки определено для этой функции:
<DL>
<DT><B>EPERM </B><DD><P>Этот процесс не может устанавливать главное имя, потому 
что он не привилегирован.
</DL>

<BLOCKQUOTE><CODE>
<PRE>
       long int gethostid (void)  (функция)
</PRE>
</CODE></BLOCKQUOTE>

Эта функция возвращает " главный ID " машины. Обычно, это - 
первичный адрес Internet этой машины, преобразованный в long int. 
Но на некоторых системах это - бессмысленное но уникальное число, 
которое является жестко закодированным для каждой машины.
<BLOCKQUOTE><CODE>
<PRE>
       int sethostid (long int id)  (функция)
</PRE>
</CODE></BLOCKQUOTE>
       Sethostid функция устанавливает " главный ID " главной машины 
id. Только привилегированным процессам позволяются делать это. 
Обычно это случается только один раз, при начальной загрузке 
системы.
<P>Возвращаемое значение - 0 при успехе и -1 при отказе. Следующие 
errno условия ошибки определено для этой функции:
<DL>
<DT><B>EPERM </B><DD><P>Этот процесс не может устанавливать главное имя, потому 
что он не привилегирован.
<DT><B>ENOSYS </B><DD><P>операционная система не поддерживает установку главного 
ID. На некоторых системах, главный ID - бессмысленное но уникальное 
число, жестко закодированное для каждой машины.
</DL>

26.2 Идентификация Типа АППАРАТНЫХ СРЕДСТВ/ПРОГРАММНОГО 
ОБЕСПЕЧЕНИЯ
<P>
<P>Вы можете использовать uname функцию, чтобы выяснить некоторую 
информацию относительно типа компьютера. Эта функция и связанный 
тип данных объявлены в заглавном файле " sys/utsname.h ".
<BLOCKQUOTE><CODE>
<PRE>
       struct utsname     (тип данных)
</PRE>
</CODE></BLOCKQUOTE>

Структура utsname используется, чтобы содержать информацию, 
возвращенную uname функцией. Она имеет следующие элементы:
<BLOCKQUOTE><CODE>
<PRE>
                char sysname[]
</PRE>
</CODE></BLOCKQUOTE>

Это - имя используемой операционной системы.
<BLOCKQUOTE><CODE>
<PRE>
                char nodename[]
</PRE>
</CODE></BLOCKQUOTE>

Это - сетевое имя этого специфического компьютера. В библиотеке 
GNU, значение - такое же как возвращенное gethostname; см. Раздел 
26.1 [Главная Идентификация].
<BLOCKQUOTE><CODE>
<PRE>
                char release[]
</PRE>
</CODE></BLOCKQUOTE>

Это - текущий уровень выпуска реализации операционной системы.
<BLOCKQUOTE><CODE>
<PRE>
                char version[]
</PRE>
</CODE></BLOCKQUOTE>

Это - текущая версия выпуска операционной системы.
<BLOCKQUOTE><CODE>
<PRE>
                char machine[]
</PRE>
</CODE></BLOCKQUOTE>

Это - описание типа аппаратных средств, которые являются 
используемыми.
<P>Некоторые системы обеспечивают механизм, чтобы опросить ядро 
непосредственно для этой информации. На системах без такого 
механизма, библиотека GNU C вносит это поле, основанное на имени 
конфигурации, которое было определено при формировании и установке 
библиотеки.
<P>GNU использует имя с тремя частями, чтобы описать конфигурацию 
системы; три части - центральный процессор, изготовитель и тип 
системы, и они отделяются подчеркиванием. Любая возможная 
комбинация трех имен потенциально значима, но большинство таких 
комбинаций бессмысленно практически и даже значимые не обязательно 
обеспечиваются любой специфической программой GNU.
<P>Так как значение в machine, как предполагается,  описывает 
только аппаратные средства, оно состоит из первых двух частей имени 
конфигурации " центральный процессор - изготовитель ". Например:
<P>"sparc-sun",  "i386-anything",  "m68k-hp",  "m68k-sony", "m68k-sun", "mips-dec"
<BLOCKQUOTE><CODE>
<PRE>
       int uname (struct utsname *info)  (функция)
</PRE>
</CODE></BLOCKQUOTE>
       Uname функция вносит в структуру, указанную info информацию 
относительно операционной системы и главной машины. Неотрицательное 
значение указывает, что данные были успешно сохранены.
<P>-1 указывает ошибку. Единственая возможная ошибка - EFAULT, 
которую мы обычно не упоминаем, поскольку она - всегда возможна.
<P>
<P>
<HR>
<A HREF="glibc-27.html">Вперед</A>
<A HREF="glibc-25.html">Назад</A>
<A HREF="glibc.html#toc26">Содержание</A>

<!--htdig_noindex-->
<noindex>
<br>

<table id=ibm_adv align=center><tr valign=top><td width="605">
<iframe src="http://www.opennet.ru/adv_lc.html" height="240" width="605" scrolling="no" name="ibm" border="0" frameborder="0" target="_blank" marginheight="0" marginwidth="0"></iframe>
</td></tr></table>
</noindex>
<!--/htdig_noindex-->


<!-- footer -->
<!--htdig_noindex-->
<br>
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=1 WIDTH="100%" BGCOLOR="#B0B190">
<TR><TD>
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" VALIGN="MIDDLE">
<TR>
<TD WIDTH="35%" BGCOLOR="#E9EAD6" ALIGN=LEFT>
<FONT SIZE="-1">
&nbsp;&nbsp;<A HREF="http://www.opennet.ru/cgi-bin/opennet/bookmark.cgi">Закладки&nbsp;на&nbsp;сайте</A><BR>
&nbsp;&nbsp;<A HREF="http://www.opennet.ru/cgi-bin/opennet/bookmark.cgi?submit=add" target="blank_">Проследить&nbsp;за&nbsp;страницей</A>
</FONT>
</TD>
<TD WIDTH="65%" ALIGN=RIGHT BGCOLOR="#E9EAD6">
<FONT SIZE="-1">Created&nbsp;1996-2014&nbsp;by&nbsp;<B><A HREF="http://www.opennet.ru/contact.shtml" title="email mc@tyumen.ru">Maxim&nbsp;Chirkov</A></B></FONT>&nbsp;&nbsp;<BR>
<FONT SIZE="-1"><A HREF="http://www.opennet.ru/add.shtml">Добавить</A>,&nbsp;<A HREF="http://www.opennet.ru/reklama.shtml">Реклама</A>,&nbsp;<A HREF="http://www.opennet.ru/banners2.shtml">Вебмастеру</A>,&nbsp;<A HREF="http://www.opennet.ru/guide.shtml">ГИД</A></FONT>&nbsp;&nbsp;
</TD>
</TR>
</TABLE>
</TD></TR>
</TABLE>


<div align=right><table><tr><td>
<a target=_blank href="http://www.runnet.ru"><img src="http://www.opennet.ru/img/runnet.gif" border=0 height=31 width=88 alt="RUNNet"></a>
<a target=_blank href="http://top.list.ru/jump?from=77689"><img src="http://top.list.ru/counter?id=77689;t=75;l=1" border=0 height=31 width=38 alt="TopList"></a>
<script type="text/javascript"><!--
document.write("<a href='http://www.liveinternet.ru/click' "+
"target=_blank><img src='//counter.yadro.ru/hit?t45.6;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";"+Math.random()+
"' alt='' title='LiveInternet' "+
"border='0' width='31' height='31'><\/a>")
//--></script>
<a target=_blank href="http://counter.rambler.ru/top100/"><img src="http://counter.rambler.ru/top100.cnt?10566" width=1 height=1 border=0><img src="http://www.opennet.ru/banner.gif" width=88 height=31 border=0></a>
</td></tr></table>
</div>
</form>
<!--/htdig_noindex-->
<!-- end of footer -->

</BODY>
</HTML>
