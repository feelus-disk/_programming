<!doctype html><html>
<head><meta charset="UTF-8">
<link rel="STYLESHEET" href="../main.css" type="text/css">
<title>Get-ADDomainController | PowerShell | SS64.com</title>
</head><body><!-- #BeginLibraryItem "/Library/head_ps.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="http://ss64.com/"> ( &nbsp;SS64 &nbsp;)</a></li>
<li class="tbtn"><a href="http://ss64.com/ps">PowerShell</a></li>
<li class="tbtn"><a href="syntax.html">Syntax</a></li>
<li><div id="search"><form action="http://www.google.com/search" method="get">
<button tabindex="-1" type="submit" id="q-img"></button>
<input type="text" name="q" id="q" size="27" maxlength="255" onblur="if(this.value=='')this.value='Search…';" onclick="if(this.value=='Search…')this.value='';" value="Search…">
<input type="hidden" name="sitesearch" value="ss64.com/ps/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>Get-ADDomainController</h1> 
<p>Gets one or more AD domain controllers based on discoverable services criteria, search parameters or 
by providing a domain controller identifier.</p>
<pre>Syntax
      Get-ADDomainController [[-Identity] <i>ADDomainController</i>]
         [-Credential <i>PSCredential</i>] [-Server <i>string</i>]
            [-AuthType {<u>Negotiate</u> | Basic}] [<i>CommonParameters</i>]

      Get-ADDomainController <b>-Discover</b> [-AvoidSelf] [-DomainName <i>string</i>]
         [-ForceDiscover] [-MinimumDirectoryServiceVersion {Windows2000 | Windows2008}]
            [-NextClosestSite <i>string</i>] [-Service <i>ADDiscoverableService</i>[]]
               [-SiteName <i>string</i>] [-Writable ]
                  [-AuthType {<u>Negotiate</u> | Basic}] [<i>CommonParameters</i>]

      Get-ADDomainController <b>-Filter</b> <i>string</i> [-Credential <i>PSCredential</i>]
         [-Server <i>string</i>] [-AuthType {<u>Negotiate</u> | Basic}] [<i>CommonParameters</i>]

Key
   -AuthType {<u>Negotiate</u> | Basic}
       The authentication method to use: Negotiate (or 0), Basic (or 1)
       A Secure Sockets Layer (SSL) connection is required for Basic authentication.

   -AvoidSelf
       Don't return the current computer as a domain controller.
       If the current computer is not a domain controller, this parameter is ignored.
       Specify this parameter to get the name of another domain controller in the domain.

   -Credential <i>PSCredential</i>
       The user account credentials to use to perform this task.
       The default credentials are those of the currently logged on user unless the
       cmdlet is run from an Active Directory PowerShell provider drive.
       If the cmdlet is run from such a provider drive, the account associated with the drive is the default.

       Type a user name, such as "User64" or "Domain64\User64" or specify a
       PSCredential object such as one generated by <a href="get-credential.html">Get-Credential</a> 

       If a user name is specified, the cmdlet will prompt for a password.

   -Discover
       Return a discoverable domain controller that meets the conditions specified by the
       cmdlet parameters. To get a domain controller by using the discovery mechanism of
       DCLocator, use -Discover. This parameter also requires search criteria to be set by
       setting parameters such as Service, SiteName, DomainName, NextClosestSite, AvoidSelf, and ForceDiscover.

         e.g. To get a live DC that has Web Services enabled in a specific site with name &quot;RODC-Site&quot;

         Get-ADDomainController -Discover -Services ADWS -SiteName RODC-Site

   -DomainName <i>string</i>
       The domain to search.
       The cmdlet locates a discoverable domain controller in this domain.
       Specify the domain with the NetBIOS name or Fully Qualified Domain Name (FQDN) of the domain.

   -Filter <i>string</i>
       A query string that retrieves Active Directory objects.
       This string uses the PowerShell Expression Language syntax:

       <i>filter</i> ::= &quot;{&quot; FilterComponentList&quot;}&quot;
       <i>FilterComponentList</i> ::= <i>FilterComponent</i> | <i>FilterComponent JoinOperator FilterComponent</i> | <i>NotOperator FilterComponent</i>
       <i>FilterComponent</i> ::= <i>attr FilterOperator value</i> | &quot;(&quot; <i>FilterComponent</i>&quot;)&quot;
       <i>FilterOperator</i> ::= &quot;-eq&quot; | &quot;-le&quot; | &quot;-ge&quot; | &quot;-ne&quot; | &quot;-lt&quot; | &quot;-gt&quot;| &quot;-approx&quot; | &quot;-bor&quot; | &quot;-band&quot; | &quot;-recursivematch&quot; | &quot;-like&quot; | &quot;-notlike&quot;
       <i>JoinOperator</i> ::= &quot;-and&quot; | &quot;-or&quot;
       <i>NotOperator</i> ::= &quot;-not&quot;
       <i>attr</i> ::= <i>PropertyName</i> | <i>LDAPDisplayName_of_the_attribute</i>
       <i>value</i>::= &lt;compare this value with an <i>attr</i> by using the specified <i>FilterOperator</i>&gt;

   -ForceDiscover
       Force the cmdlet to clear any cached domain controller information and perform a new discovery.
       If this parameter is not specified the cmdlet may return cached domain controller information.

   -Identity <i>ADDomainController</i>
       An AD Domain Controller object.
       The identity may also be given as a DNS Host Name, GUID, IPV4Address, Global IPV6Address,
       Name of the server object or DN of the NTDS Settings object.

       The cmdlet searches the default naming context or partition to find the object.
       If two or more objects are found, the cmdlet returns a non-terminating error.

       The <i>ADDomainController</i> object may also be passed through the pipeline or set via a variable.

   -MinimumDirectoryServiceVersion <i>ADMinimumDirectoryServiceVersion</i>
       When getting a DC using -Discover, only return DCs that are are running this OS or later:
       Possible values:
          Windows2000 or 1
          Windows2008 or 2

   -NextClosestSite
       Return a domain controller in the next closest site when a domain controller is not found
       in the site that contains the client. The next closest site is the site with the lowest site
       link cost with respect to the current site.
       Costs between sites are based on factors such as bandwidth, as well as physical proximity.

   -Server <i>string</i>
       The AD Domain Services instance to connect to, this may be a Fully qualified domain name,
       NetBIOS name, Fully qualified directory server name (with or without port number)

   -Service <i>ADDiscoverableService</i>[]
       The types of domain controllers to get.
       More than one type may be specified by using a comma-separated list.
       Possible values:
          PrimaryDC or 1
          GlobalCatalog or 2
          KDC or 3
          TimeService or 4
          ReliableTimeService or 5
          ADWS or 6

       Example showing how to get a live DC that has Web Services enabled:
          Get-ADDomainController -Discover -Services ADWS

   -SiteName <i>string</i>
       The name of a site to search in to find the domain controller.
       If this parameter is not set, the cmdlet searches for domain controllers in the
       same site as the client. The name of the site is defined by the Name property of the site object.

        The following example shows how to use this parameter to specify a site.
          -SiteName &quot;SS64&quot;

   -Writable
       Return only read/write domain controllers.

   <a href="common.html">CommonParameters</a>:
       -Verbose, -Debug, -ErrorAction, -ErrorVariable, -WarningAction, -WarningVariable,
       -OutBuffer -OutVariable.</pre>
<p>Get-ADDomainController  gets the domain controllers specified by the -Identity, -Filter or -Discover parameters.<br>
<br>The <span class="code">-Identity</span> parameter specifies the domain controller to get. Identify a domain controller by its GUID, IP
V4Address, global IPV6Address, or DNS host name. You can also identify a domain controller by the name of the server object that represents the domain controller, the Distinguished Name (DN) of the NTDS settings object or the server object, the GUID of the NTDS settings object or the server object under the configuration partition, or the DN of the computer object that represents the domain controller. You can also set the Identity parameter to an object variable or  through the <a href="syntax-pipeline.html">pipeline</a>.<br>
<br>To search for and retrieve more than one domain controller, use the <span class="code">-Filter</span> parameter. The Filter parameter uses the
PowerShell Expression Language to write query strings for Active Directory. For more information  see about_ActiveDirectory_Filter. <br>
You cannot use an LDAP query string with this cmdlet.<br>
<br>To get a domain controller by using the discovery mechanism of DCLocator, use the <span class="code">-Discover</span> parameter.</p>
<p><b>Examples</b></p>
<p>Get the domain controller in the user's current session (the current default).</p>
<p class="code">PS C:\&gt; Get-ADDomainController</p>
<p>Get a domain controller using its IP address: </p>
<p class="code">PS C:\&gt; Get-ADDomainController -Identity &quot;10.5.12.64&quot;</p>
<p>Get one available DC in a given site using Discovery: </p>
<p class="code">PS C:\&gt; Get-ADDomainController -Discover -Site &quot;SS64&quot;</p>
<p>Get a global catalog in the current forest using Discovery: </p>
<p class="code">PS C:\&gt; Get-ADDomainController -Discover -Service &quot;GlobalCatalog&quot;</p>
<p>Get all read only DC's: </p>
<p class="code">PS C:\&gt; Get-ADDomainController -filter {isreadonly -eq $true}</p>
<p>Get all ROGCs in the child domain to which the client is connected: </p>
<p class="code">PS C:\&gt; Get-ADDomainController -Server &quot;research.SS64.com&quot; -Filter { isGlobalCatalog -eq $true -and isReadOnly -eq $true }</p>
<p class="quote"><i>“Being powerful is like being a lady. If you have to tell people you are, you aren't&rdquo; ~ Margaret Thatcher </i></p>
<p><b>Related:</b></p>
<p><a href="set-addomain.html">Set-adDomain</a> - Modify an AD domain.<br> 
<a href="set-addomainmode.html">Set-adDomainMode</a> - Set the domain functional level for an AD domain.</p><!-- #BeginLibraryItem "/Library/foot_ps.lbi" --><p><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- PowerShell336 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-6140977852749469"
     data-ad-slot="6318961509"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></p>
<hr>
<div id=bl class="footer"><a href="get-addomaincontroller.html#"><img src="../images/top.png" width="30" height="22" alt="Back to the Top"></a></div>
<div id=br class="footer, tagline">&copy; Copyright <a href="http://ss64.com/">SS64.com</a> 1999-2014<br>
Some rights reserved</div><!-- #EndLibraryItem --></body>
</html>
