<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=WINDOWS-1251">

<meta name="author" content="">
<meta name="description" content="">
<meta name="keywords" content="">

<title>Перевод RFC 903</title>
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:9.00pt "Arial", sans-serif; }
 .font1 { font:10.00pt "Arial", sans-serif; }
 .font2 { font:14.00pt "Arial", sans-serif; }
 .font3 { font:16.00pt "Arial", sans-serif; }
 .font4 { font:27.00pt "Arial", sans-serif; }
 .font5 { font:10.00pt "Courier New", monospace; }
 .font6 { font:11.00pt "Courier New", monospace; }
 .font7 { font:9.00pt "Times New Roman", serif; }
</style>
</head>

<body>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:50.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:131.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:73.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:231.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.48pt;">
        <div class=paragraph><div align="center"><a href="index.htm">На главную
</a></div><br>
<div style="height: 90px;">
<script type="text/javascript"><!--
google_ad_client = "pub-0899253526956684";
/* 728x90 */
google_ad_slot = "3113460964";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:66.48pt;">
<div class=block style=" width:66.48pt; height:37.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:494.88pt;">
<div class=block style=" width:494.88pt; height:36.24pt;">
<div class=paragraph style=" text-align:left;"><span class=font4><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:37.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.80pt;">
<div class=block style=" width:4.80pt; height:1.44pt;">
</div>
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:487.20pt;">
<div class=block style=" width:487.20pt; height:14.16pt;">
<div class=paragraph style=" text-align:left;"><span class=font1><b> </b><span style=" color:rgb(0,0,255);"><b><u></u></b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:2.88pt;">
<div class=block style=" width:2.88pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:71.28pt;">
<div class=block style=" width:71.28pt; height:12.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:36.48pt;">
<div class=block style=" width:36.48pt; height:12.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:253.68pt;">
<div class=block style=" width:253.68pt; height:58.56pt;">
<div class=paragraph style=" padding:0.00pt 31.92pt 0.00pt 56.88pt; text-align:left;"><span class=font6 style=" line-height:18.48pt;"><b>Network Working Group Request for Comments: 903</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:341.28pt;">
<div class=block style=" width:341.28pt; height:58.56pt;">
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:right;"><span class=font6 style=" line-height:18.48pt;"><b>Finlayson, Mann, Mogul, Theimer</b></span></div>
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:right;"><span class=font6 style=" line-height:18.48pt;"><b>Stanford University</b></span></div>
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:right;"><span class=font6 style=" line-height:18.48pt;"><b>June 1984</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:17.52pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:39.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 242.40pt; text-align:left;"><span class=font3><b>Протокол RARP</b></span></div>
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 239.28pt; text-align:left;"><span class=font7>A Reverse Address Resolution Protocol</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:236.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 332.40pt; text-align:left;"><span class=font7 style=" line-height:15.84pt;">Ross Finlayson, Timothy Mann, Jeffrey Mogul, Marvin Theimer</span></div>
<div class=paragraph style=" padding:0.24pt 28.08pt 0.00pt 0.00pt; text-align:right;"><span class=font7 style=" line-height:15.84pt;">Computer Science Department</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 0.00pt; text-align:right;"><span class=font7 style=" line-height:15.84pt;">Stanford University</span></div>
<div class=paragraph style=" padding:0.24pt 27.84pt 0.00pt 0.00pt; text-align:right;"><span class=font7 style=" line-height:15.84pt;">June 1984</span></div>
<div class=paragraph style=" padding:7.44pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>Статус документа</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font7 style=" line-height:10.08pt;">В этом документе описывается метод, позволяющий станциям динамически определять свой адрес протокольного<sup>1</sup> уровня (например, IP) по известному аппаратному адресу.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font7 style=" line-height:9.84pt;">Документ содержит спецификацию стандарта, предложенного сообществу ARPA Internet и является приглашением к дискуссии в целях развития стандарта.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>I. Введение</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font7 style=" line-height:9.84pt;">Хосты типа бездисковых станций зачастую не знают свой протокольный адрес в момент загрузки, но им обычно известен аппаратный адрес сетевого интерфейса. Для взаимодействия с протоколами вышележащих уровней (например, IP) хост должен узнать свой протокольный адрес из некого внешнего источника. Проблема заключается в отсутствии стандартного механизма получения адреса.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font7 style=" line-height:9.84pt;">Разработанный Пламмером (Plummer) протокол ARP<sup>2</sup> [1] предназначен для решения обратной задачи – определения аппаратного адреса хоста по его протокольному адресу. В данном документе описывается протокол обратного преобразования адресов RARP<sup>3</sup>. Как м в случае ARP, предполагается широковещательная сетевая среда, подобная Ethernet.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:28.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>II. Вопросы реализации протокола</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7>Ниже приведены рекомендации по реализации протокола RARP.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:159.36pt;">
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font7 style=" line-height:9.84pt;">A)&nbsp; Преобразования ARP и RARP отличаются одно от другого. ARP предполагает, что каждый хост знает связь между своими аппаратными протокольными адресами. Информация о связях между аппаратными и протокольными адресами других хостов собирается в специальном кэше. Все хосты сети с точки зрения ARP имеют одинаковый статус (не требуется деление на серверы и клиентов).</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 70.80pt; text-align:left;"><span class=font7 style=" line-height:10.08pt;">Для преобразования RARP требуется один или несколько серверов, поддерживающих базу данных о связях между аппаратными и протокольными адресами хостов и отвечающих на запросы адресов от клиентских хостов.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font7 style=" line-height:9.84pt;">B)&nbsp; Как было отмечено, преобразование RARP требует наличия серверов, поддерживающих большие базы данных. Нежелательно, а в некоторых случаях просто невозможно поддерживать такие базы данный в ядре операционной системы хостов. Таким образом, большинство реализаций будут требовать того или иного взаимодействия с программой, не входящей в ядро.</span></div>
<div class=paragraph style=" padding:4.32pt 28.32pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font7 style=" line-height:9.84pt;">C)&nbsp; Для протокола важна простота реализации и минимальное воздействие на существующие программы. Было бы ошибкой предлагать протокол, который потребует модификации программ каждого хоста, независимо от того, будет ли этот протокол использоваться на данном хосте.</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font7 style=" line-height:10.08pt;">D)&nbsp; Желательно использование фрагментов кода существующих программ в целях минимизации усилий по разработке и снижения расходов.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:253.68pt;">
<div class=block style=" width:253.68pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>III. Предлагаемый протокол</i></b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:341.28pt;">
<div class=block style=" width:341.28pt; height:19.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:110.16pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font7 style=" line-height:9.84pt;">Предлагается выполнять преобразование RARP с помощью отдельного протокола канального уровня. Например, для сред Ethernet пакеты RARP будут иметь значение поля Ethertype (которое будет выделено для этого протокола), отличающееся от ARP. Это будет указывать, что преобразования ARP и RARP различаются фундаментально и поддерживаются хостами по-разному. Воздействие на существующие системы минимально – существующие серверы ARP не будут вводиться в заблуждение пакетами RARP. Этот делает RARP самостоятельным протоколом, который может применяться для отображения аппаратных адресов на адреса любых протоколов вышележащего уровня.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font7 style=" line-height:9.84pt;">Это приближение обеспечивает простоту реализации клиентской части RARP, но разработка RARP-серверов потребует более значительный усилий. Однако, эти трудности не являются непреодолимыми, как показано в Приложении A, где даны наброски двух вариантов реализации протокола для 4.2BSD Unix.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7>RARP использует такой же формат пакетов, как протокол ARP, а именно:</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:7.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:327.36pt;">
<div class=block style=" width:327.36pt; height:30.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" line-height:9.84pt;"><sup>1</sup>&nbsp;Сетевого уровня в современной терминологии. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" line-height:9.84pt;"><sup>2</sup>&nbsp;Address Resolution Protocol - протокол преобразования адресов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" line-height:9.84pt;"><sup>3</sup>&nbsp; Reverse Address  Resolution Protocol</span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:267.60pt;">
<div class=block style=" width:267.60pt; height:43.68pt;">
<div class=paragraph style=" padding:30.72pt 0.00pt 0.00pt 161.52pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:121.92pt;">
<div class=block style=" width:121.92pt; height:12.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:205.44pt;">
<div class=block style=" width:205.44pt; height:12.96pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:50.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:131.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:73.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:231.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:190.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:270.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:133.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:461.52pt;">
<div class=block style=" width:461.52pt; height:11.76pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:133.44pt;">
<div class=block style=" width:133.44pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 903</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:461.52pt;">
<div class=block style=" width:461.52pt; height:0.96pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:667.44pt;">
<div class=paragraph style=" padding:0.00pt 206.88pt 0.00pt 64.32pt; text-align:left;"><span class=font5 style=" line-height:11.28pt;"><b>ar$hrd (пространство аппаратных адресов) - 16 битов ar$pro (пространство протокольных адресов) - 16 битов ar$hln (размер аппаратного адреса) - 8 битов ar$pln (размер протокольного адреса) - 8 битов ar$op (код операции) - 16 битов ar$sha (аппаратный адрес отправителя) - n<sup>4</sup> байтов ar$spa (протокольный адрес отправителя) - m <sup>5</sup> байтов ar$tha (аппаратный адрес получателя) - n байтов ar$tpa (протокольный адрес получателя) - m байтов</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" line-height:11.28pt;">Поля ar$hrd, ar$pro, ar$hln и ar$pln имеют такой же смысл, как для протокола ARP (см. [1]).</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font7 style=" line-height:9.84pt;">Предположим, что в качестве аппаратного используется 48-битовый адрес Ethernet, а в качестве протокольного – 32-битовый адрес IP. Нам требуется определить адрес IP, соответствующий известному адресу Ethernet. В этом случае для каждого пакета RARP выполняются равенства ar$hrd = 1 (Ethernet), ar$pro = 2048<sup>6</sup> (Ethertype для пакетов IP), ar$hln = 6, ar$pln = 4.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font7 style=" line-height:9.84pt;">Протокол использует два кода операций: 3 (request reverse – запрос обратного преобразования) и 4 (reply reverse – отклик на запрос обратного преобразования). Коды операций 1 и 2 имеют такой же смысл, как указано в [1] – пакеты с такими кодами могут передаваться с использованием обычных программ ARP. Пакеты с любыми другими кодами операций являются ошибочными. Как и ARP, данный протокол не использует пакетов not found (не найдено) или error (ошибка), поскольку серверы RARP не обязаны отвечать на полученные запросы. Отправитель запроса RARP должен задавать для себя время ожидания (timeout) отклика на переданный запрос.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7>Поля ar$sha, ar$spa, $ar$tha и ar$tpa в пакетах RARP интерпретируются следующим образом:</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7>Для пакетов с кодом операции 3 (request reverse):</span></div>
<div class=paragraph style=" padding:3.36pt 260.88pt 0.00pt 64.32pt; text-align:left;"><span class=font5 style=" line-height:11.28pt;"><b>ar$sha – аппаратный адрес отправителя пакета. ar$spa – не определено. ar$tha – аппаратный адрес получателя<sup>7</sup></b>. <b>ar$tpa – не определено.</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" line-height:11.28pt;">Для пакетов с кодом операции 4 (reply reverse):</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font5 style=" line-height:11.28pt;"><b>ar$sha – аппаратный адрес отвечающего хоста.</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font5 style=" line-height:11.28pt;"><b>ar$spa – протокольный адрес отвечающего хоста<sup>8</sup>.</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font5 style=" line-height:11.28pt;"><b>ar$tha – аппаратный адрес получателя<sup>9</sup>.</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font5 style=" line-height:11.28pt;"><b>ar$tpa – протокольный адрес получатель (то, что было запрошено).</b></span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font2><b><i>IV. Литература</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7>[1] Plummer, D., &quot;An Ethernet Address Resolution Protocol&quot;, RFC 826<sup>10</sup>, MIT-LCS, November 1982.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font2><b><i>Приложение A. Два примера реализации протокола для 4.2BSD Unix</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7>Ниже приведены два наброска различных вариантов реализации сервера RARP для 4.2BSD.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.40pt;"><span class=font7 style=" line-height:9.84pt;">A)&nbsp; Обеспечивается доступ к пакетам канального уровня за пределами ядра. Сервер RARP полностью реализуется за пределами ядра и взаимодействует с ядром только для приема или передачи пакетов RARP. Ядро изменяется так, чтобы обеспечивался требуемый доступ к пакетам RARP; в настоящее время ядро 4.2 обеспечивает доступ только для пакетов IP. Одним из существующих механизмов, которые обеспечивают возможность доступа к пакетам является псевдо-драйвер пакетного фильтра CMU. Этот драйвер успешно используется в CMU и Стэнфорде (Stanford) для реализации подобных серверов в пользовательском пространстве.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.40pt;"><span class=font7 style=" line-height:9.84pt;">B)&nbsp; Создается кэш записей базы данных внутри ядра. Полная база данных сервера RARP поддерживается пользовательским процессом за пределами ядра. Сам сервер RARP реализуется в ядре и использует в откликах содержимое кэша записей. Кэш может быть таким же, какой используется для пересылки ARP.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 42.72pt; text-align:justify;"><span class=font7 style=" line-height:9.84pt;">Кэш заполняется записями из базы данных с использованием двух новых операций ioctl (они подобны SIOCIFADDR в том, что реально не связываются с конкретным сокетом). Одна из операций обеспечивает нахождение в “спящем” режиме при отсутствии транзакций, а при появлении запросов передает их пользовательскому процессу, а вторая заносит запись этой транзакции в таблицу ядра. Таким образом, если ядро не может найти запись в кэше, оно помещает запрос в (глобальную) очередь и вызывает функцию wakeup(). Реализация первой операции ioctl включает вызов sleep(), считывание из очереди первого объекта т возврата его пользовательскому процессу. Поскольку ядро не может находится в состоянии ожидания на уровне прерывания, пока пользовательский процесс ответит, оно может отказаться от обработки запроса (в предположении, что клиент повторит запрос) или, если вторая операция ioctl передаст копию запроса обратно в ядро, сформировать и передать отклик на этот запрос.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" line-height:15.84pt;"><b>Перевод на русский язык</b></span></div>
<div class=paragraph style=" padding:0.24pt 483.60pt 0.00pt 35.28pt; text-align:left;"><span class=font7 style=" line-height:15.84pt;">Николай Малых <span style=" color:rgb(0,0,128);"><a href="mailto:nmalykh@bilim.com"><u>nmalykh@bilim.com</u></a></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:190.80pt;">
<div class=block style=" width:190.80pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><sup>4</sup>&nbsp;Значение n определяется из поля ar$hln.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><sup>5</sup>&nbsp;Значение n определяется из поля ar$pln.</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:404.16pt;">
<div class=block style=" width:404.16pt; height:21.84pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:92.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" line-height:9.84pt;"><sup>6</sup>&nbsp;Десятичное значение.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font7 style=" line-height:9.84pt;"><sup>7</sup>&nbsp; В случаях, когда отправитель хочет узнать свой протокольный адрес, это поле, подобно ar$sha содержит аппаратный адрес отправителя.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font7 style=" line-height:9.84pt;"><sup>8</sup>&nbsp; Отметим, что указание в поле ar$spa в пакетах с кодом 4 протокольного адреса отправителя включено лишь для удобства. Например, система, в которой одновременно используется ARP и RARP, может использовать полученную пару адресов (ar$spa, ar$sha) и не передавать впоследствии запрос ARP для этого адреса.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" line-height:9.84pt;"><sup>9</sup>&nbsp; Должен совпадать с адресом отправителя запроса</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>10</sup><span style=" letter-spacing:0.00pt;">&nbsp;На сайте </span><span style=" color:rgb(0,0,128); letter-spacing:0.00pt;"><a href="index.html"><u>rfc.com.ru</u></a></span><span style=" color:rgb(0,0,255); letter-spacing:0.00pt;"> </span><span style=" letter-spacing:0.00pt;">имеется перевод этого документа на русский язык.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
        <div class=paragraph><script type="text/javascript">
<!--
var _acic={dataProvider:10};(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src="//www2.acint.net/aci.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()
//-->
</script> <a href="http://www.business-video.ru/corporat_film.shtml" target="_blank">снять корпоративный фильм</a> <a href='http://p0rno-tv.com/'>порно с животными</a> | <a href='http://intimlife.com/section/5'>сисястые трансы</a>.
<script>
var siteid=10204;
var cats='0';
var adult='0';
document.write('<scr'+'ipt type="text/jav'+'ascript" src="/click'+'under2.js"></scr'+'ipt>');
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10568897-4");
pageTracker._trackPageview();
} catch(err) {}</script></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:190.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:270.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:133.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</body>
</html>

