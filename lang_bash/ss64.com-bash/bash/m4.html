<!doctype html><html>
<head><meta charset="UTF-8">
<link rel="STYLESHEET" href="../main.css" type="text/css">
<title>m4 Man Page | Bash | SS64.com</title>
</head><body><!-- #BeginLibraryItem "/Library/head_bash.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="http://ss64.com/"> ( &nbsp;SS64 &nbsp;)</a></li>
<li class="tbtn"><a href="http://ss64.com/bash">Bash</a></li>
<li class="tbtn"><a href="syntax.html">Syntax</a></li>
<li><div id="search"><form action="http://www.google.com/search" method="get">
<button tabindex="-1" type="submit" id="q-img"></button>
<input type="text" name="q" id="q" size="27" maxlength="255" onblur="if(this.value=='')this.value='Search…';" onclick="if(this.value=='Search…')this.value='';" value="Search…">
<input type="hidden" name="sitesearch" value="ss64.com/bash/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>m4</h1> 
<p>macro processor</p>
<pre>SYNTAX
      m4 [<i>Options</i>...] [<i>Macro-Definitions</i>...] [<i>Input-File</i>...]</pre>
<p>DESCRIPTION<br>
  m4 is a macro processor, in the sense that it copies its input to the output, 
  expanding macros as it goes. Macros are either builtin or user-defined, and 
  can take any number of arguments. Besides just doing macro expansion, `m4' has 
  builtin functions for including named files, running UNIX commands, doing integer 
  arithmetic, manipulating text in various ways, recursion, etc... `m4' can be 
  used either as a front-end to a compiler, or as a macro processor in its own 
  right.<br>
  <br>
  The `m4' macro processor is widely available on all UNIXes. Usually, only a 
  small percentage of users are aware of its existence.<br>
  However, those who do often become commited users.<br>
  <br>
  Some people found `m4' to be fairly addictive. They first use `m4' for simple 
  problems, then take bigger and bigger challenges, learning how to write complex 
  `m4' sets of macros along the way. Once really addicted, users pursue writing 
  of sophisticated `m4' applications even to solve simple problems, devoting more 
  time debugging their `m4' scripts than doing real work. Beware that `m4' may 
  be dangerous for the health of compulsive programmers.<br>
  <br>
  see <b>info m4 </b>for the full user manual</p>
<pre>OPTIONS
--version
     Print the version number of the program on standard output, then
     immediately exit `m4' without reading any INPUT-FILES.

--help
     Print an help summary on standard output, then immediately exit
     `m4' without reading any INPUT-FILES.

-G
--traditional
     Suppress all the extensions made in this implementation, compared
     to the System V version.

-E
--fatal-warnings
     Stop execution and exit `m4' once the first warning has been
     issued, considering all of them to be fatal.

-d<i> FLAGS</i>
--debug=<i>FLAGS</i>
     Set the debug-level according to the flags <i>FLAGS</i>.  The debug-level
     controls the format and amount of information presented by the
     debugging functions.  *see below for more details on the
     format and meaning of <i>FLAGS</i>.

-l<i> NUM</i>
--arglength=<i>NUM</i>
     Restrict the size of the output generated by macro tracing.

-o <i>FILE</i>
--error-output=<i>FILE</i>'
     Redirect debug and trace output to the named file.  Error messages
     are still printed on the standard error output.  *Note Debug
     Output:: for more details.

-I <i>DIR</i>
--include=<i>DIR</i>
     Make `m4' search DIR for included files that are not found in the
     current working directory.  *Note Search Path:: for more details.

-e
--interactive
     Makes this invocation of `m4' interactive.  This means that all
     output will be unbuffered, and interrupts will be ignored.

-s
--synclines
     Generate synchronisation lines, for use by the C preprocessor or
     other similar tools.  This is useful, for example, when `m4' is
     used as a front end to a compiler.  Source file name and line
     number information is conveyed by directives of the form `#line
     LINENUM "FILENAME"', which are inserted as needed into the middle
     of the input.  Such directives mean that the following line
     originated or was expanded from the contents of input file
     FILENAME at line LINENUM.  The `"FILENAME"' part is often omitted
     when the file name did not change from the previous directive.

     Synchronisation directives are always given on complete lines per
     themselves.  When a synchronisation discrepancy occurs in the
     middle of an output line, the associated synchronisation directive
     is delayed until the beginning of the next generated line.

-P
--prefix-builtins
     Internally modify *all* builtin macro names so they all start with
     the prefix `m4_'.  For example, using this option, one should write
     `m4_define' instead of `define', and `m4___file__' instead of
     `__file__'.

-W <i>REGEXP</i>
--word-regexp=<i>REGEXP</i>
     Use an alternative syntax for macro names.  This experimental
     option might not be present on all GNU `m4' implementations.
     (*note Changeword::.).

-H<i> N</i>
--hashsize=<i>N</i>
     Make the internal hash table for symbol lookup be N entries big.
     The number should be prime.  The default is 509 entries.  It
     should not be necessary to increase this value, unless you define
     an excessive number of macros.

-L <i>N</i>
--nesting-limit=<i>N</i>
     Artificially limit the nesting of macro calls to N levels,
     stopping program execution if this limit is ever exceeded.  When
     not specified, nesting is limited to 250 levels.

     The precise effect of this option might be more correctly
     associated with textual nesting than dynamic recursion.  It has
     been useful when some complex `m4' input was generated by
     mechanical means.  Most users would never need this option.  If
     shown to be obtrusive, this option (which is still experimental)
     might well disappear.

     This option does *not* have the ability to break endless
     rescanning loops, while these do not necessarily consume much
     memory or stack space.  Through clever usage of rescanning loops,
     one can request complex, time-consuming computations to `m4' with
     useful results.  Putting limitations in this area would break `m4'
     power.  There are many pathological cases: `define(`a', `a')a' is
     only the simplest example (but *note Compatibility::.).  Expecting
     GNU `m4' to detect these would be a little like expecting a
     compiler system to detect and diagnose endless loops: it is a
     quite *hard* problem in general, if not undecidable!

-Q
--quiet
--silent
     Suppress warnings about missing or superflous arguments in macro
     calls.

-B
-S
-T
     These options are present for compatibility with System V `m4', but
     do nothing in this implementation.

-N<i> N</i>
--diversions=<i>N</i>
     These options are present only for compatibility with previous
     versions of GNU `m4', and were controlling the number of possible
     diversions which could be used at the same time.  They do nothing,
     because there is no fixed limit anymore.

   Macro definitions and deletions can be made on the command line, by
using the `-D' and `-U' options.  They have the following format:

-D<i> NAME</i>
-D<i> NAME</i>=<i>VALUE</i>
--define=<i>NAME</i>
--define=<i>NAME</i>=<i>VALUE</i>
     This enters <i>NAME</i> into the symbol table, before any input files are
     read.  If `=<i>VALUE</i>' is missing, the value is taken to be the empty
     string.  The <i>VALUE</i> can be any string, and the macro can be defined
     to take arguments, just as if it was defined from within the input.

-U <i>NAME</i>
--undefine=<i>NAME</i>
     This deletes any predefined meaning <i>NAME</i> might have.  Obviously,
     only predefined macros can be deleted in this way.

-t <i>NAME</i>
--trace=<i>NAME</i>
     This enters <i>NAME</i> into the symbol table, as undefined but traced.
     The macro will consequently be traced from the point it is defined.

-F <i>FILE</i>
--freeze-state <i>FILE</i>
     Once execution is finished, write out the frozen state on the
     specified <i>FILE</i> (*note Frozen files::.).

-R <i>FILE</i>
--reload-state <i>FILE</i>
     Before execution starts, recover the internal state from the
     specified frozen <i>FILE</i> (*note Frozen files::.).
</pre>
<p> FLAGS is any of: <br>
<span class="code">a </span>show actual arguments <br>
<span class="code">c </span>show before collect, after collect and after call  <br>
<span class="code">e </span>show expansion <br>
<span class="code">f </span>say current input file name <br>
<span class="code">i </span>show changes in input files <br>
<span class="code">l </span>say current input line number <br>
<span class="code">p </span>show results of path searches <br>
<span class="code">q </span>quote values as necessary, with a or e flag<br>
<span class="code">t </span>trace for all macro calls, not only traceon'ed <br>
<span class="code">x </span>add a unique macro call id, useful with <br>
<span class="code">c</span> flag <br>
<span class="code">V </span>shorthand for all of the above flags</p>
<p>The remaining arguments on the command line are taken to be input
file names.  If no names are present, the standard input is read.  A
file name of `-' is taken to mean the standard input.<br>
<br>
The input files are read in the sequence given.  The standard input
can only be read once, so the filename `-' should only appear once on
the command line.</p>
<p>If defined, the environment variable 'M4PATH' is a colon-separated list of directories included after any specified by '-I'. </p>
<p>Exit status is 0 for success, 1 for failure, 63 for frozen file version mismatch, or whatever value was passed to the m4exit macro.</p>
<p class="quote"> <i>&quot;To try to understand the workings of the economy by means of macroeconomics is rather like trying to understand how a clock works by observing the movements of the hands on its face&quot; ~ David Simpson</i></p>
<p><b> Related:</b><br>
<br>
<a href="awk.html">awk</a> - Find and Replace text within file(s)<a href="cal.html"></a><br>
<a href="expr.html">expr</a> - Evaluate expressions<br>
<a href="eval.html">eval</a> - Evaluate several commands/arguments<br>
<a href="for.html">for</a> - Expand <var>words</var>, and execute <var>commands</var> 
<br>
<a href="grep.html">grep</a> - search file(s) for lines that match a given pattern<br>
Equivalent Windows commands: <a href="http://ss64.com/nt/doskey.html">DOSKEY</a> - Edit command line, recall commands, 
and create macros</p><!-- #BeginLibraryItem "/Library/foot_bash.lbi" --><p><script type="text/javascript"><!--
google_ad_client = "ca-pub-6140977852749469";
/* bash336Rect */
google_ad_slot = "3362592300";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></p>
<hr>
<div id=bl class="footer"><a href="m4.html#"><img src="../images/top.png" width="30" height="22" alt="Back to the Top"></a></div>
<div id=br class="footer, tagline">&copy; Copyright <a href="http://ss64.com/">SS64.com</a> 1999-2014<br>
Some rights reserved</div><!-- #EndLibraryItem --></body>
</html>
