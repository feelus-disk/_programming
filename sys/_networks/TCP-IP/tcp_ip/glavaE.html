<html>
<head>
<title>Конфигурируемые опции</title>
</head>

<body>
<div>


<p><small><a HREF="index.html"><img SRC="contents.jpg" BORDER="0" WIDTH="94" HEIGHT="20"></a><a HREF="../home.htm"><img SRC="begin.jpg" BORDER="0" WIDTH="68" HEIGHT="20"></a><a HREF="glavaF.html"><img SRC="forward.jpg" BORDER="0" WIDTH="68" HEIGHT="20"></a><a HREF="glavaD.html"><img SRC="back_b.jpg" BORDER="0" WIDTH="68" HEIGHT="20"></a><img SRC="index.jpg" WIDTH="68" HEIGHT="20"></small></p>

<font FACE="Arial"><font size="4"><b>



<p><a NAME="t350000"></a>Приложение E Конфигурируемые опции</p>

</b></font>



<p><small>В тексте встречаются характеристики TCP/IP,

которые нам пришлось описывать следующим

образом &quot;это зависит от конфигурации&quot;.


Например, рассчитывается или нет контрольная

сумма UDP (глава 11, раздел <a HREF="glava11.html#t113000">&quot;Контрольная

сумма UDP&quot;</a>), является IP адрес назначения с

одним и тем же идентификатором сети, но с

различными идентификаторами подсети, локальным

или нелокальным (глава 18, раздел <a HREF="glava18.html#t184000">&quot;Максимальный

размер сегмента&quot;</a>), и будет ли

перенаправляться широковещательный запрос или

нет (глава 12, раздел <a HREF="glava12.html#t123000">&quot;Примеры

широковещательных запросов&quot;</a>). И

действительно, множество характеристик в

реализациях TCP/IP могут быть модифицированы

системным администратором. В этом приложении

приводится список некоторых конфигурируемых

опций для различных реализаций TCP/IP, которые

использовались в тексте. Как Вы могли ожидать,

продукт каждого поставщика программного

обеспечения отличается от других. В этом

приложении дается представление о том, какие

типы параметров в различных реализациях могут

быть модифицированы. Небольшое количество опций,

которые принадлежат совсем уж конкретным

реализациям, такие как, например, метка низкой

воды для буфера памяти, не рассматриваются.</small></p>



<p><small>&nbsp;</small></p>

<font size="1">



<p></font><font size="2"><font color="#0000A0">Эти переменные

описываются только для информационных целей. Их

имена, значения по умолчанию или интерпретации

могут изменяться от одного релиза к другому.

Обратитесь к документации, которая поставляется

с программным обеспечением, для того чтобы

составить для себя представление об этих

переменных.</font></p>

</font>



<p><small>&nbsp;</small></p>



<p><small>Здесь не приводится описания процесса

установки опций, которая происходит каждый раз

при загрузке системы: инициализация каждого

сетевого интерфейса с использованием <a NAME="t350001"></a>ifconfig

(установка IP адреса, маски подсети), ввод

статических маршрутов в таблицу маршрутизации и

так далее. Вместо этого в приложении

сфокусировано внимание на опциях конфигурации,

которые влияют на функционирование TCP/IP.</small></p>

<font size="3"><u><b>



<p><a NAME="t351000"></a>BSD/386 Version 1.0</p>

</b></u></font>



<p><small>Эта система является примером

&quot;классической&quot; BSD конфигурации, которая

используется, начиная с 4.2BSD. Так как вместе с

системой распространяются исходные тексты,

администратор может указать опции конфигурации,

после чего необходимо пересобрать ядро.

Существует два типа опций: константы, которые

определяются в конфигурационном файле ядра (см.

страницы помощи <a NAME="t351002"></a>config(8)), и переменные,

которые инициализируются в различных файлах С

текста. Смелые и квалифицированные

администраторы могут изменить значение этих С

переменных в работающем ядре или в дисковом

имидже ядра с использованием отладчика, чтобы не

пересобирать ядро. Ниже приведены константы,

которые могут быть изменены в конфигурационном

файле ядра.</small></p>



<p><small>&nbsp;</small>




<dl>

  <p><small><a NAME="t351003"></a>IPFORWARDING</small></p>

  <dd><small>Значение этой константы устанавливается в

    переменной ядра <a NAME="t351004"></a>ipforwarding . Если равно 0

    (по умолчанию), IP датаграммы не перенаправляются.

    Если равно 1, перенаправление включено.</small></dd>

  <p><small><a NAME="t351005"></a>GATEWAY</small></p>

  <dd><small>Если эта константа определена, IPFORWARDING

    должна быть установлена в 1. Помимо того,

    определение этой константы вызывает увеличение

    определенных системных таблиц (ARP кэша и таблицы

    маршрутизации).</small></dd>

  <p><small><a NAME="t351006"></a>SUBNETSARELOCAL</small></p>

  <dd><small>Значение этой константы устанавливает

    переменную ядра <a NAME="t351007"></a>subnetsarelocal. Если равно 1

    (по умолчанию), IP адрес назначения с тем же самым

    идентификатором сети, как и у посылающего хоста,

    но с другим идентификатором подсети, считается

    локальным. Если равно 0, только IP адреса

    назначения непосредственно подключенной

    подсети считаются локальными. Кратко это описано


    на рисунке Е.1<a NAME="t351001"></a>.</small><p><small>&nbsp;</font> </small></p>

    <table BORDER="1" CELLSPACING="1" BORDERCOLOR="#000000" CELLPADDING="5" WIDTH="767">

      <tr>

        <td WIDTH="22%" VALIGN="TOP" ROWSPAN="2" BGCOLOR="#ffffff"><p ALIGN="CENTER"><font FACE="Arial"><small>Идентификатор</small></p>

        <p ALIGN="CENTER"><small>сети</small></font></td>

        <td WIDTH="21%" VALIGN="TOP" ROWSPAN="2" BGCOLOR="#ffffff"><font FACE="Arial"><p ALIGN="CENTER"><small>Идентификатор</small></p>

        <p ALIGN="CENTER"><small>подсети</small></font></td>

        <td WIDTH="35%" VALIGN="TOP" COLSPAN="2" BGCOLOR="#ffffff"><font FACE="Arial"><p ALIGN="CENTER"><small>subnetsarelocal</small></font></td>

        <td WIDTH="22%" VALIGN="TOP" ROWSPAN="2" BGCOLOR="#ffffff"><font FACE="Arial"><p ALIGN="CENTER"><small>Комментарий</small></p>

        </font><p><small>&nbsp;</small></td>

      </tr>

      <tr>

        <td WIDTH="18%" VALIGN="TOP" BGCOLOR="#ffffff"><font FACE="Arial"><p ALIGN="CENTER"><small>1</small></font></td>

        <td WIDTH="17%" VALIGN="TOP" BGCOLOR="#ffffff"><font FACE="Arial"><p ALIGN="CENTER"><small>0</small></font></td>

      </tr>

      <tr>

        <td WIDTH="22%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>одинаковый</small></font></td>

        <td WIDTH="21%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>одинаковый</small></font></td>

        <td WIDTH="18%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>локальный</small></font></td>

        <td WIDTH="17%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>локальный</small></font></td>

        <td WIDTH="22%" VALIGN="TOP"><font FACE="Arial"><small>всегда локальный</small></font></td>

      </tr>

      <tr>

        <td WIDTH="22%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>одинаковый</small></font></td>

        <td WIDTH="21%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>разный</small></font></td>

        <td WIDTH="18%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>локальный</small></font></td>

        <td WIDTH="17%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>нелокальный</small></font></td>

        <td WIDTH="22%" VALIGN="TOP"><font FACE="Arial"><small>зависит от

        конфигурации</small></font></td>

      </tr>

      <tr>

        <td WIDTH="22%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>разный</small></font></td>

        <td WIDTH="21%" VALIGN="TOP"><small>&nbsp;</small></td>

        <td WIDTH="18%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>нелокальный</small></font></td>

        <td WIDTH="17%" VALIGN="TOP"><font FACE="Arial"><p ALIGN="CENTER"><small>нелокальный</small></font></td>

        <td WIDTH="22%" VALIGN="TOP"><font FACE="Arial"><small>всегда нелокальный</small></font></td>

      </tr>

    </table>

    <font FACE="Arial"><p><small>Рисунок Е.1 Интерпретация

    переменной ядра subnetsarelocal.</small></p>

    <p><small>&nbsp;</small></p>

    <p><small>Это влияет на <a NAME="t351008"></a>MSS, который

    выбирается TCP. Когда происходит отправка на

    локальный пункт назначения, TCP выбирает MSS,

    основываясь на MTU исходящего интерфейса. Когда

    происходит отправка на нелокальный пункт

    назначения, TCP использует значение переменной

    tcp_mssdflt как MSS.</small></p>

  </dd>

  <p><small><a NAME="t351009"></a>IPSENDREDIRECTS</small></p>

  <dd><small>Значение этой константы инициализирует

    переменную ядра <a NAME="t351010"></a>ipsendredirects. Если равно 1

    (по умолчанию), хост будет отправлять ICMP

    перенаправления при перенаправлении IP

    датаграмм. Если установлено в 0, <a NAME="t351011"></a>ICMP

    перенаправления не отправляются.</small></dd>

  <p><small><a NAME="t351012"></a>DIRECTED_BROADCAST</small></p>

  <dd><small>Если равно 1 (по умолчанию), полученные

    датаграммы, адреса назначения которых это

    широковещательные адреса подключенных

    интерфейсов, <a NAME="t351013"></a>перенаправляются как

    широковещательные запросы канального уровня.

    Если равно 0, эти датаграммы молча отбрасываются.</small></dd>

</dl>



<p><small>&nbsp;</small></p>



<p><small>Следующие переменные также могут быть

модифицированы. Эти переменные рассеяны в

различных файлах в директории <a NAME="t351014"></a>/usr/src/sys/netinet.

</small></p>



<p><small>&nbsp;</small>



<dl>

  <p><small><a NAME="t351015"></a>tcprexmtthresh</small></p>

  <dd><small>Количество последовательно принятых

    подтверждений, которое включает <a NAME="t351016"></a>алгоритм

    быстрой повторной передачи и быстрого

    восстановления. По умолчанию равно 3.</small></dd>

  <p><small><a NAME="t351017"></a>tcp_ttl</small></p>

  <dd><small>Это значение устанавливается по умолчанию в

    поле <a NAME="t351018"></a>TTL в TCP сегментах. Значение по

    умолчанию 60.</small></dd>

  <p><small><a NAME="t351019"></a>tcp_mssdflt</small></p>

  <dd><small>Значение MSS TCP по умолчанию для нелокальных

    пунктов назначения. Значение по умолчанию 512.</small></dd>

  <p><small><a NAME="t351020"></a>tcp_keepidle</small></p>

  <dd><small>Количество 500-миллисекундных тиков часов

    перед отправкой пробы <a NAME="t351021"></a>&quot;оставайся в

    живых&quot;. Значение по умолчанию 14400 (2 часа).</small></dd>

  <p><small><a NAME="t351022"></a>tcp_keepintvl</small></p>

  <dd><small>Количество 500-миллисекундных тиков часов

    между последовательными пробами <a NAME="t351023"></a>&quot;оставайся

    в живых&quot;, когда не получен ответ. Значение по

    умолчанию 150 (75 секунд).</small></dd>

  <p><small><a NAME="t351024"></a>tcp_sendspace</small></p>

  <dd><small>Размер по умолчанию <a NAME="t351025"></a>отправляющего

    буфера TCP. Значение по умолчанию 4096.</small></dd>

  <p><small><a NAME="t351026"></a>tcp_recvspace</small></p>

  <dd><small>Размер по умолчанию <a NAME="t351027"></a>приемного

    буфера TCP. Он оказывает влияние на предлагаемый

    размер окна. Значение по умолчанию 4096.</small></dd>

  <p><small><a NAME="t351028"></a>udpcksum</small></p>

  <dd><small>Если не равно 0, рассчитывается <a NAME="t351029"></a>контрольная

    сумма UDP для исходящих UDP датаграмм, и если

    входящие UDP датаграммы содержат ненулевую

    контрольную сумму, эти контрольные суммы

    проверяются. Если равно 0, исходящие UDP датаграммы

    не содержат контрольную сумму, и не

    осуществляется проверка контрольных сумм для

    входящих UDP датаграмм, даже если отправитель

    рассчитал контрольную сумму. По умолчанию равно

    1.</small></dd>

  <p><small><a NAME="t351030"></a>udp_ttl</small></p>

  <dd><small>Значение по умолчанию для поля TTL в UDP

    датаграммах. По умолчанию равно 30.</small></dd>

  <p><small><a NAME="t351031"></a>udp_sendspace</small></p>

  <dd><small>Размер по умолчанию для <a NAME="t351032"></a>отправляющего

    буфера UDP. Определяет максимальный размер UDP

    датаграммы, которая может быть отправлена. По

    умолчанию 9216.</small></dd>

  <p><small><a NAME="t351033"></a>udp_recvspace</small></p>

  <dd><small>Размер по умолчанию <a NAME="t351034"></a>приемного

    буфера UDP. По умолчанию равно 41600, что означает 40

    датаграмм размером 1024 байта.</small></dd>

</dl>



<p><small>&nbsp;</small></p>

<font size="3"><u><b>



<p><a NAME="t352000"></a>SunOS 4.1.3</p>

</b></u></font>



<p><small>Метод, используемый с SunOS 4.1.3, напоминает

тот, что мы видели в случае BSD/386. Так как

большинство кодов ядра не распространяются, все

установки С переменных содержатся в одном файле

С кода, который поставляется в системе. Из файла

конфигурации ядра администратора (см. страницы

помощи config(8)) можно определить следующие

переменные. После модификации конфигурационного

файла должно быть создано новое ядро, и система

должна быть перезагружена.</small></p>



<p><small>&nbsp;</small>



<dl>

  <p><small><a NAME="t352001"></a>IPFORWARDING</small></p>

  <dd><small>Значение этой константы инициализирует

    переменную ядра <a NAME="t352002"></a>ip_forwarding. Если равно -1,

    <a NAME="t352003"></a>IP датаграммы никогда не

    перенаправляются. Более того, переменная не

    может быть изменена. Если равно 0 (по умолчанию), IP

    датаграммы не перенаправляются, однако значение

    переменной изменяется в 1, если &quot;поднято&quot;

    несколько интерфейсов. Если равно 1,

    перенаправление всегда включено.</small></dd>

  <p><small><a NAME="t352004"></a>SUBNETSARELOCAL</small></p>

  <dd><small>Эта константа инициализирует переменную

    ядра <a NAME="t352005"></a>ip_subnetsarelocal. Если равно 1 (по

    умолчанию), IP адрес назначения с тем же самым

    идентификатором сети, как и у отправляющего

    хоста, однако с другим идентификатором подсети,

    считается локальным. Если равно 0, только IP адреса

    назначения, подключенные непосредственно к этой

    подсети, считаются локальными. Подобный подход

    кратко описан на рисунке Е.1. Когда

    осуществляется отправка на локальные пункты

    назначения, TCP выбирает MSS на основе MTU исходящего

    интерфейса. Когда происходит отправка на

    нелокальный пункт назначения, TCP использует для

    этой цели переменную tcp_default_mss.</small></dd>

  <p><small><a NAME="t352006"></a>IPSENDREDIRECTS</small></p>

  <dd><small>Значение этой константы инициализирует

    переменную ядра <a NAME="t352007"></a>ip_sendredirects. Если равно

    1 (по умолчанию), хост будет отправлять <a NAME="t352008"></a>ICMP

    перенаправления при перенаправлении IP

    датаграмм. Если равно 0, ICMP перенаправления не

    отправляются.</small></dd>

  <p><small><a NAME="t352009"></a>DIRECTED_BROADCAST</small></p>

  <dd><small>Значение этой константы инициализирует

    переменную ядра <a NAME="t352010"></a>ip_dirbroadcast . Если равно

    1 (по умолчанию), принятые датаграммы, адрес

    назначения которых это широковещательный адрес

    непосредственно подключенного интерфейса, <a NAME="t352011"></a>перенаправляются как

    широковещательные запросы канального уровня.

    Если равно 0, эти датаграммы молча отбрасываются.</small></dd>

</dl>



<p><small>&nbsp;</small></p>



<p><small>Файл <a NAME="t352012"></a>/usr/kvm/sys/netinet/in_proto.c

определяет следующие переменные, которые могут

быть изменены. Если переменные изменены, должно

быть собрано новое ядро и система перезагружена. </small></p>



<p><small>&nbsp;</small>



<dl>

  <p><small><a NAME="t352013"></a>tcp_default_mss</small></p>

  <dd><small>Значение по умолчанию MSS TCP для нелокальных

    пунктов назначения. Значение по умолчанию 512.</small></dd>

  <p><small><a NAME="t352014"></a>tcp_sendspace</small></p>

  <dd><small>Размер по умолчанию <a NAME="t352015"></a>отправляющего

    буфера TCP. Значение по умолчанию 4096.</small></dd>

  <p><small><a NAME="t352016"></a>tcp_recvspace</small></p>

  <dd><small>Размер по умолчанию <a NAME="t352017"></a>приемного

    буфера TCP. Оказывает влияние на предлагаемый

    размер окна. Значение по умолчанию 4096.</small></dd>

  <p><small><a NAME="t352018"></a>tcp_keeplen</small></p>

  <dd><small>Проба &quot;оставайся в живых&quot; на хост <a NAME="t352019"></a>4.2BSD должна содержать один байт данных,

    для того чтобы получить отклик. Установка

    переменной в 1 осуществляет совместимость с

    этими более старыми реализациями. Значение по

    умолчанию 1.</small></dd>

  <p><small><a NAME="t352020"></a>tcp_ttl</small></p>

  <dd><small>Значение по умолчанию для поля TTL TCP

    сегментов. По умолчанию 60.</small></dd>

  <p><small><a NAME="t352021"></a>tcp_nodelack</small></p>

  <dd><small>Если не равно 0, подтверждения не

    задерживаются. Значение по умолчанию 0.</small></dd>

  <p><small><a NAME="t352022"></a>tcp_keepidle</small></p>

  <dd><small>Количество 500-миллисекундных тиков часов

    перед отправкой пробы &quot;оставайся в живых&quot;.

    Значение по умолчанию 14400 (2 часа).</small></dd>

  <p><small><a NAME="t352023"></a>tcp_keepintvl</small></p>

  <dd><small>Количество 500-миллисекундных тиков часов

    между последовательными пробами &quot;оставайся в

    живых&quot;, если не получен отклик. Значение по

    умолчанию 150 (75 секунд).</small></dd>

  <p><small><a NAME="t352024"></a>udp_cksum</small></p>

  <dd><small>Если не равно 0, <a NAME="t352025"></a>UDP контрольные

    суммы рассчитываются для исходящих UDP датаграмм,

    а для входящих UDP датаграмм, содержащих ненулевую

    контрольную сумму, контрольная сумма

    проверяется. Если равно 0, исходящие UDP датаграммы

    не содержат контрольную сумму, и не

    осуществляется проверка контрольной суммы для

    входящих UDP датаграмм, даже если отправитель

    рассчитал контрольную сумму. По умолчанию 0.</small></dd>

  <p><small><a NAME="t352026"></a>udp_ttl</small></p>

  <dd><small>Значение по умолчанию для поля TTL в UDP

    датаграммах. По умолчанию 60.</small></dd>

  <p><small><a NAME="t352027"></a>udp_sendspace</small></p>

  <dd><small>Размер по умолчанию для <a NAME="t352028"></a>отправляющего

    буфера UDP. Определяет максимальный размер UDP

    датаграммы, которая может быть отправлена. По

    умолчанию 9000.</small></dd>

  <p><small><a NAME="t352029"></a>udp_recvspace</small></p>

  <dd><small>Размер по умолчанию <a NAME="t352030"></a>приемного

    буфера UDP. Значение по умолчанию 18000, что означает

    две датаграммы размером 9000 байт.</small></dd>

</dl>



<p><small>&nbsp;</small></p>

<font size="3"><u><b>



<p><a NAME="t353000"></a>System V Release 4</p>

</b></u></font>



<p><small>Конфигурация TCP/IP в SVR4 напоминают две

предыдущие системы, однако доступно значительно

меньше опций. В файле <a NAME="t353001"></a>/etc/conf/pack.d/ip/space.c

определены две константы, которые могут быть

изменены, после чего ядро должно быть

перестроено, а система перезагружена.</small></p>



<p><small>&nbsp;</small>



<dl>

  <p><small>IPFORWARDING</small></p>

  <dd><small>Значение этой константы инициализирует

    переменную ядра <a NAME="t353002"></a>ipforwarding . Если равно 0

    (по умолчанию), <a NAME="t353003"></a>IP датаграммы не

    перенаправляются. Если равно 1, перенаправление

    всегда включено.</small></dd>

  <p><small>IPSENDREDIRECTS</small></p>

  <dd><small>Значение этой константы инициализирует

    переменную ядра <a NAME="t353004"></a>ipsendredirects. Если равно 1

    (по умолчанию), хост будет отправлять ICMP

    перенаправления при перенаправлении IP

    датаграмм. Если равно 0, ICMP перенаправления не

    отправляются.</small></dd>

</dl>



<p><small>&nbsp;</small></p>



<p><small>Большинство из переменных, которые мы

описали в двух предыдущих разделах, определены в

ядре, однако необходимо иметь patch (patch (англ.) -

заплата; исправления, поставляемые

производителями к программному обеспечению),

чтобы модифицировать их. В качестве примера

можно привести переменную <a NAME="t353005"></a>tcp_keepidle со

значением 14400.</small></p>

<font size="3"><u><b>



<p><a NAME="t354000"></a>Solaris 2.2</p>

</b></u></font>



<p><small><a NAME="t354001"></a>Solaris 2.2 это типичная Unix система

нового поколения. Она предоставляет программу,

которая позволяет администратору изменить опции

конфигурации для системы TCP/IP. Это позволяет

осуществлять переконфигурацию без модификации

файлов с исходными текстами и перестройки ядра.

Конфигурационная программа называется <a NAME="t354002"></a>ndd(1)

. Мы можем запустить программу, чтобы посмотреть,

какие параметры могут быть просмотрены или

модифицированы в UDP модуле:</small></p>



<p><small>&nbsp;</small></p>

</font><font FACE="Courier New" size="2">



<pre>

solaris % <b>ndd /dev/udp \?</b>

udp_wroff_extra                    (read and write-чтение и запись)

udp_def_ttl                        (read and write-чтение и запись)

udp_first_anon_port                (read and write-чтение и запись)

udp_trust_optlen                   (read and write-чтение и запись)

udp_do_checksum                    (read and write-чтение и запись)

udp_status                         (read only-только чтение)

</pre>

</font><font FACE="Arial">



<p><small>&nbsp;</small></p>



<p><small>Мы можем указать пять модулей: <a NAME="t354003"></a>/dev/ip,

<a NAME="t354004"></a>/dev/icmp, <a NAME="t354005"></a>/dev/arp, <a NAME="t354006"></a>/dev/udp

и <a NAME="t354007"></a>/dev/tcp. Знак вопроса в качестве

аргумента (перед которым необходимо поставить

обратный слэш, чтобы предотвратить

интерпретацию вопросительного знака

интерпретатором команд) сообщает программе о

необходимости показать список всех параметров

для этого модуля. В качестве примера, который

запрашивает значение переменной, можно привести

следующее:</small></p>



<p><small>&nbsp;</small></p>

</font><font FACE="Courier New" size="1">



<p></font><font FACE="Courier New" size="2">solaris % <b>ndd /dev/tcp tcp_mss_def<br>

</b>536</font><font FACE="Arial">&nbsp;</p>



<p><small>&nbsp;</small></p>



<p><small>Чтобы изменить значение переменной,

необходимо с привилегиями суперпользователя

ввести следующее:</small></p>



<p><small>&nbsp;</small></p>

</font><font FACE="Courier New" size="1">



<p></font><font FACE="Courier New" size="2">solaris <b># ndd -set /dev/ip ip_forwarding 0</p>

</b></font><font FACE="Arial">



<p><small>&nbsp;</small></p>



<p><small>Эти переменные могут быть поделены на три

категории: </small>



<ol>

  <li><small>Переменные конфигурации, которые могут быть

    изменены системным администратором (например, <a NAME="t354008"></a>ip_forwarding).</small></li>

  <li><small>Переменные статуса, которые могут быть

    только просмотрены (например, ARP кэш). Обычно, эта

    информация предоставляется в формате, пригодном

    для чтения, командами <a NAME="t354009"></a>ifconfig, <a NAME="t354010"></a>netstat

    и <a NAME="t354011"></a>arp.</small></li>

  <li><small>Отладочные переменные, предназначенные для

    исходного кода ядра. Включение некоторых из них

    генерирует отладочный вывод ядра, что может

    значительно снизить производительность.</small></li>

</ol>



<p><small>Сейчас мы опишем эти параметры для каждого

модуля. Все параметры могут быть считаны и

записаны, если они не помечены &quot;только для

чтения&quot; (Read only). Эти параметры только для чтения

являются переменными статуса (см. выше, пункт 2).

Переменные, упомянутые в пункте 3, помечены как

&quot;отладочные&quot; (Debug). Все временные

характеристики приведены в миллисекундах, что

отличается от других систем, которые обычно

указывают время в некотором количестве

500-миллисекундных тиков часов.</small></p>

<font size="3"><i><b>



<p>/dev/ip</b></i></font>



<dl>

  <p><small><a NAME="t354012"></a>ip_cksum_choice</small></p>

  <dd><small>(Отладочная) Осуществляет выбор между двумя

    независимыми реализациями алгоритма расчета <a NAME="t354013"></a>контрольной суммы IP.</small></dd>

  <p><small><a NAME="t354014"></a>ip_debug</small></p>

  <dd><small>(Отладочная) Включает печать отладочного

    вывода от ядра, если больше чем 0. Чем больше

    значение, тем больше генерируется вывода. По

    умолчанию 0.</small></dd>

  <p><small><a NAME="t354015"></a>ip_def_ttl</small></p>

  <dd><small>Значение TTL по умолчанию для исходящих IP

    датаграмм (если не указано на транспортном

    уровне). По умолчанию 255.</small></dd>

  <p><small><a NAME="t354016"></a>ip_forward_directed_broadcasts</small></p>

  <dd><small>Если равно 1 (по умолчанию), принятые

    датаграммы, адрес назначения которых является

    широковещательным адресом непосредственно

    подключенного интерфейса, <a NAME="t354017"></a>перенаправляются

    как широковещательные запросы канального

    уровня. Если равно 0, эти датаграммы молча

    отбрасываются.</small></dd>

  <p><small><a NAME="t354018"></a>ip_forward_src_routed</small></p>

  <dd><small>Если равно 1 (по умолчанию), принятые

    датаграммы, содержащие <a NAME="t354019"></a>опцию

    маршрутизации от источника, перенаправляются.

    Если равно 0, эти датаграммы отбрасываются.</small></dd>

  <p><small><a NAME="t354020"></a>ip_forwarding</small></p>

  <dd><small>Указывает, будет ли система <a NAME="t354021"></a>перенаправлять

    входящие IP датаграммы: 0 означает нет

    перенаправления, 1 обозначает перенаправляет

    всегда и 2 (по умолчанию) означает, что

    перенаправление осуществляется только в том

    случае, если функционирует два или более

    интерфейсов.</small></dd>

  <p><small><a NAME="t354022"></a>ip_icmp_return_data_bytes</small></p>

  <dd><small>Количество байт данных после IP заголовка,

    которые возвращаются в ICMP ошибке. По умолчанию 64.</small></dd>

  <p><small><a NAME="t354023"></a>ip_ignore_delete_time</small></p>

  <dd><small>(Отладочная) Минимальное время жизни записи

    в таблице маршрутизации IP (IRE). По умолчанию 30

    секунд. (Этот параметр приводится в секундах, а не

    в миллисекундах).</small></dd>

  <p><small><a NAME="t354024"></a>ip_ill_status</small></p>

  <dd><small>(Только для чтения) Отображает статус для

    структуры данных уровня, находящегося ниже IP.

    Существует одна структура нижнего уровня для

    каждого интерфейса.</small></dd>

  <p><small><a NAME="t354025"></a>ip_ipif_status</small></p>

  <dd><small>(Только для чтения) Отображает статус каждой

    структуры данных IP интерфейса (IP адрес, маска

    подсети и так далее). Существует только одна

    структура для каждого интерфейса.</small></dd>

  <p><small><a NAME="t354026"></a>ip_ire_cleanup_interval</small></p>

  <dd><small>(Отладочная) Интервал, с которым

    просматриваются записи в таблице маршрутизации

    IP для возможного удаления. По умолчанию 30000

    миллисекунд (30 секунд).</small></dd>

  <p><small><a NAME="t354027"></a>ip_ire_flush_interval</small></p>

  <dd><small>Интервал, через который информация ARP

    безусловно удаляется из таблицы маршрутизации IP.

    По умолчанию 1200000 миллисекунд (20 минут).</small></dd>

  <p><small><a NAME="t354028"></a>ip_ire_pathmtu_interval</small></p>

  <dd><small>Интервал, через который алгоритм

    определения <a NAME="t354029"></a>транспортного MTU

    пытается увеличить MTU. По умолчанию 30000

    миллисекунд (30 секунд).</small></dd>

  <p><small><a NAME="t354030"></a>ip_ire_redirect_interval</small></p>

  <dd><small>Интервал, через который записи в таблице

    маршрутизации IP, которые получены с помощью ICMP

    перенаправления, удаляются. По умолчанию 60000

    миллисекунд (60 секунд).</small></dd>

  <p><small><a NAME="t354031"></a>ip_ire_status</small></p>

  <dd><small>(Только для чтения) Отображает все записи в

    таблице маршрутизации IP.</small></dd>

  <p><small><a NAME="t354032"></a>ip_local_cksum</small></p>

  <dd><small>Если равно 0 (по умолчанию), IP не рассчитывает

    <a NAME="t354033"></a>контрольную сумму IP или контрольную

    сумму верхних протоколов (<a NAME="t354034"></a>TCP, <a NAME="t354035"></a>UDP, <a NAME="t354036"></a>ICMP или <a NAME="t354037"></a>IGMP)

    для датаграмм, которые отправляются или

    принимаются через <a NAME="t354038"></a>loopback интерфейс.

    Если равно 1, контрольные суммы рассчитываются.</small></dd>

  <p><small><a NAME="t354039"></a>ip_mrtdebug</small></p>

  <dd><small>(Отладочная) Включает печать отладочного

    вывода, связанного с групповой маршрутизацией

    ядра, если равно 1. По умолчанию равно 0.</small></dd>

  <p><small><a NAME="t354040"></a>ip_path_mtu_discovery</small></p>

  <dd><small>Если равно 1 (по умолчанию), определение

    транспортного MTU осуществляется уровнем IP. Если

    равно 0, IP никогда не установит бит <a NAME="t354041"></a>&quot;не

    фрагментировать&quot; для исходящих датаграмм.</small></dd>

  <p><small><a NAME="t354042"></a>ip_respond_to_address_mask</small></p>

  <dd><small>Если равно 0 (по умолчанию), хост не отвечает

    на ICMP запросы маски адреса. Если равно 1 -

    отвечает.</small></dd>

  <p><small><a NAME="t354043"></a>ip_respond_to_echo_broadcast</small></p>

  <dd><small>Если равно 1 (по умолчанию), хост отвечает на <a NAME="t354044"></a>ICMP эхо запросы, которые отправлены на

    широковещательный адрес. Если равно 0 - не

    отвечает.</small></dd>

  <p><small><a NAME="t354045"></a>ip_respond_to_timestamp</small></p>

  <dd><small>Если равно 0 (по умолчанию), хост не отвечает

    на <a NAME="t354046"></a>ICMP запросы временной марки. Если

    равно 1 - отвечает.</small></dd>

  <p><small><a NAME="t354047"></a>ip_respond_to_timestamp_broadcast</small></p>

  <dd><small>Если равно 0 (по умолчанию), хост не отвечает

    на ICMP запросы временной марки, которые

    отправлены на широковещательный адрес. Если

    равно 1 - отвечает.</small></dd>

  <p><small><a NAME="t354048"></a>ip_rput_pullups</small></p>

  <dd><small>(Отладочная) Счетчик количества буферов в

    драйвере сетевого интерфейса, который

    необходимо опросить, чтобы получить полный IP

    заголовок. Устанавливается в 0 во время загрузки

    и может быть сброшен в 0.</small></dd>

  <p><small><a NAME="t354049"></a>ip_send_redirects</small></p>

  <dd><small>Если равно 1 (по умолчанию), хост отправляет <a NAME="t354050"></a>ICMP перенаправления, когда

    функционирует как маршрутизатор. Если равно 0 - не

    отправляет.</small></dd>

  <p><small><a NAME="t354051"></a>ip_send_source_quench</small></p>

  <dd><small>Если равно 1 (по умолчанию), хост генерирует <a NAME="t354052"></a>ICMP ошибки подавления источника, когда

    входящие датаграммы отбрасываются. Если равно 0 -

    не генерирует.</small></dd>

  <p><small><a NAME="t354053"></a>ip_wroff_extra</small></p>

  <dd><small>(Отладочная) Количество байт

    дополнительного пространства, необходимого в

    буфере, чтобы расположить IP заголовки. По

    умолчанию 32.</small></dd>

</dl>

<font size="3"><i><b>



<p>/dev/icmp</b></i></font>



<dl>

  <p><small><a NAME="t354054"></a>icmp_bsd_compat</small></p>

  <dd><small>(Отладочная) Если равно 1 (по умолчанию), поле

    длины в IP заголовке принятой датаграммы

    настраивается так, чтобы исключить длину IP

    заголовка. Это совместимо с Berkeley реализациями и

    необходимо для приложений, которые читают

    символьные (raw) IP или символьные ICMP пакеты. Если

    равно 0, поле длины не изменяется.</small></dd>

  <p><small><a NAME="t354055"></a>icmp_def_ttl</small></p>

  <dd><small>Значение <a NAME="t354056"></a>TTL по умолчанию для

    исходящих ICMP сообщений. По умолчанию 255.</small></dd>

  <p><small><a NAME="t354057"></a>icmp_wroff_extra</small></p>

  <dd><small>(Отладочная) Количество байт

    дополнительного пространства в буферах,

    необходимого, чтобы расположить IP опции и

    заголовки канального уровня. По умолчанию 32.</small></dd>

</dl>

<font size="3"><i><b>



<p>/dev/arp</b></i></font>



<dl>

  <p><small><a NAME="t354058"></a>arp_cache_report</small></p>

  <dd><small>(Только для чтения) <a NAME="t354059"></a>ARP кэш.</small></dd>

  <p><small><a NAME="t354060"></a>arp_cleanup_interval</small></p>

  <dd><small>Интервал, после которого запись удаляется

    из ARP кэша. По умолчанию 300000 миллисекунд (5 минут).

    (IP поддерживает свой собственный кэш полной ARP

    трансляции; см. <a NAME="t354061"></a>ip_ire_flush_interval.)</small></dd>

  <p><small><a NAME="t354062"></a>arp_debug</small></p>

  <dd><small>(Отладочная) Если равно 1, включает печать

    отладочного вывода ARP драйвера. По умолчанию 0.</small></dd>

</dl>

<font size="3"><i><b>



<p>/dev/udp</b></i></font>



<dl>

  <p><small><a NAME="t354063"></a>udp_def_ttl</small></p>

  <dd><small>TTL по умолчанию для исходящих UDP датаграмм.

    По умолчанию 255.</small></dd>

  <p><small><a NAME="t354064"></a>udp_do_checksum</small></p>

  <dd><small>Если равно 1 (по умолчанию), рассчитывается <a NAME="t354065"></a>контрольная сумма UDP для исходящих UDP

    датаграмм. Если равно 0, исходящие UDP датаграммы

    не содержат контрольной суммы. (В отличие от

    большинства других реализаций, этот флаг

    контрольной суммы UDP не влияет на входящие

    датаграммы. Если получена датаграмма, которая

    имеет ненулевую контрольную сумму, контрольная

    сумма всегда будет проверена.)</small></dd>

  <p><small><a NAME="t354066"></a>udp_largest_anon_port</small></p>

  <dd><small>Самый большой <a NAME="t354067"></a>номер порта,


    который может быть назначен как <a NAME="t354068"></a>динамически

    назначаемый UDP порт. По умолчанию 65535.</small></dd>

  <p><small><a NAME="t354069"></a>udp_smallest_anon_port</small></p>

  <dd><small>Начальный номер порта, с которого

    начинаются динамически назначаемые UDP порты. По

    умолчанию 32768.</small></dd>

  <p><small><a NAME="t354070"></a>udp_smallest_nonpriv_port</small></p>

  <dd><small>Процессу требуются привилегии

    суперпользователя, чтобы назначить самому себе

    номер порта меньше чем этот. По умолчанию 1024.</small></dd>

  <p><small><a NAME="t354071"></a>udp_status</small></p>

  <dd><small>(Только для чтения) Статус всех локальных

    конечных точек UDP: локальный IP адрес и порт,

    удаленный IP адрес и порт.</small></dd>

  <p><small><a NAME="t354072"></a>udp_trust_optlen</small></p>

  <dd><small>(Отладочная) В настоящее время не

    используется.</small></dd>

  <p><small><a NAME="t354073"></a>udp_wroff_extra</small></p>

  <dd><small>(Отладочная) Количество байт

    дополнительного пространства, необходимого,

    чтобы расположить в буфере IP опции и заголовки

    канального уровня. По умолчанию 32.</small></dd>

</dl>

<font size="3"><i><b>



<p>/dev/tcp</b></i></font>



<dl>

  <p><small><a NAME="t354074"></a>tcp_close_wait_interval</small></p>

  <dd><small>Значение <a NAME="t354075"></a>2MSL: время, которое

    необходимо провести в состоянии <a NAME="t354076"></a>TIME_WAIT.

    По умолчанию 240000 миллисекунд (4 минуты).</small></dd>

  <p><small><a NAME="t354077"></a>tcp_conn_grace_period</small></p>

  <dd><small>(Отладочная) Время, добавляемое к значению

    таймера при отправке SYN. По умолчанию 500

    миллисекунд.</small></dd>

  <p><small><a NAME="t354078"></a>tcp_conn_req_max</small></p>

  <dd><small>Максимальное количество необслуженных <a NAME="t354079"></a>запросов на соединение, которые могут

    быть поставлены в очередь для любой слушающей

    конечной точки. По умолчанию 5.</small></dd>

  <p><small><a NAME="t354080"></a>tcp_cwnd_max</small></p>

  <dd><small><a NAME="t354081"></a>Максимальное значение окна

    переполнения. По умолчанию 32768.</small></dd>

  <p><small><a NAME="t354082"></a>tcp_debug</small></p>

  <dd><small>(Отладочная) Если равно 1, включается печать

    отладочного вывода TCP. По умолчанию 0.</small></dd>

  <p><small><a NAME="t354083"></a>tcp_deferred_ack_interval</small></p>

  <dd><small>Время, которое необходимо подождать перед

    отправкой <a NAME="t354084"></a>задержанного ACK. По

    умолчанию 50 миллисекунд.</small></dd>

  <p><small><a NAME="t354085"></a>tcp_dupack_fast_retransmit</small></p>

  <dd><small>Количество последовательно пришедших

    дублированных ACK, которые включают <a NAME="t354086"></a>быструю

    повторную передачу и алгоритм быстрого

    восстановления. По умолчанию 3.</small></dd>

  <p><small><a NAME="t354087"></a>tcp_eager_listeners</small></p>

  <dd><small>(Отладочная) Если равно 1 (по умолчанию), TCP

    завершает трехразовое рукопожатие перед

    передачей нового соединения приложению с

    ожидающим пассивным открытием. Это способ,

    которым пользуется большинство реализаций TCP.

    Если равно 0, TCP передает пришедший запрос на

    соединение (принятый SYN) приложению и не

    завершает трехразовое рукопожатие до тех пор,

    пока приложение не примет соединение. (Установка

    этого значения в 0 может сломать многие

    существующие приложения.)</small></dd>


  <p><small><a NAME="t354088"></a>tcp_ignore_path_mtu</small></p>

  <dd><small>(Отладочная) Если равно 1, <a NAME="t354089"></a>определение

    транспортного MTU игнорирует принятые <a NAME="t354090"></a>ICMP

    сообщения о необходимости фрагментации. Если

    равно 0 (по умолчанию), для TCP включается алгоритм

    определения транспортного MTU.</small></dd>

  <p><small><a NAME="t354091"></a>tcp_ip_abort_cinterval</small></p>

  <dd><small>Полное время тайм-аута повторной передачи,

    когда TCP осуществляет активное открытие. По

    умолчанию 240000 миллисекунд (4 минуты).</small></dd>

  <p><small><a NAME="t354092"></a>tcp_ip_abort_interval</small></p>

  <dd><small>Полное время тайм-аута повторной передачи

    для <a NAME="t354093"></a>TCP соединения, после того как оно

    установлено. По умолчанию 120000 миллисекунд (2

    минуты).</small></dd>

  <p><small><a NAME="t354094"></a>tcp_ip_notify_cinterval</small></p>

  <dd><small>Величина тайм-аута, когда TCP осуществляет

    активное открытие, после чего TCP уведомляет IP о

    необходимости найти новый маршрут. По умолчанию

    10000 миллисекунд (10 секунд).</small></dd>

  <p><small><a NAME="t354095"></a>tcp_ip_notify_interval</small></p>

  <dd><small>Величина тайм-аута для установленного

    соединения, после истечения которого TCP

    уведомляет IP о необходимости найти новый

    маршрут. По умолчанию 10000 миллисекунд (10 секунд).</small></dd>

  <p><small><a NAME="t354096"></a>tcp_ip_ttl</small></p>

  <dd><small><a NAME="t354097"></a>TTL, используемый для исходящих TCP

    сегментов. По умолчанию 255.</small></dd>

  <p><small><a NAME="t354098"></a>tcp_keepalive_interval</small></p>

  <dd><small>Время, в течение которого соединение не

    используется, по истечению которого будет

    отправлена проба <a NAME="t354099"></a>&quot;оставайся в

    живых&quot;. По умолчанию 7200000 миллисекунд (2 часа).</small></dd>

  <p><small><a NAME="t354100"></a>tcp_largest_anon_port</small></p>

  <dd><small>Самый большой номер порта, который может

    быть использован как <a NAME="t354101"></a>динамически

    назначаемый порт TCP. По умолчанию 65535.</small></dd>

  <p><small><a NAME="t354102"></a>tcp_maxpsz_multiplier</small></p>

  <dd><small>(Отладочная) Указывает множитель MSS, на

    основании которого данные, которые выдает

    приложение, разбиваются на пакеты. По умолчанию 1.</small></dd>

  <p><small><a NAME="t354103"></a>tcp_mss_def</small></p>

  <dd><small>Значение <a NAME="t354104"></a>MSS по умолчанию для

    нелокальных пунктов назначения. По умолчанию 536.</small></dd>

  <p><small><a NAME="t354105"></a>tcp_mss_max</small></p>

  <dd><small>Максимальный MSS. По умолчанию 65495.</small></dd>

  <p><small><a NAME="t354106"></a>tcp_mss_min</small></p>

  <dd><small>Минимальный MSS. По умолчанию 1.</small></dd>

  <p><small><a NAME="t354107"></a>tcp_naglim_def</small></p>

  <dd><small>(Отладочная) Максимальное значение порога

    алгоритма <a NAME="t354108"></a>Нагла для каждого

    соединения. По умолчанию равно 65535. Значение для

    соединения начинается с минимального <a NAME="t354109"></a>MSS

    или этого значения. Значение для соединения

    устанавливается в 1 опцией сокета <a NAME="t354110"></a>TCP_NODELAY,

    которая выключает алгоритм Нагла.</small></dd>

  <p><small><a NAME="t354111"></a>tcp_old_urp_interpretation</small></p>

  <dd><small>(Отладочная) Если равно 1 (по умолчанию),

    используется старая (но наиболее

    распространенная) BSD интерпретации указателя <a NAME="t354112"></a>срочности: он указывает на 1 байт

    позади последнего байта срочных данных. Если

    равно 0, используется интерпретация, приведенная

    в требованиях к хостам RFC: указатель срочности

    указывает на последний байт срочных данных.</small></dd>

  <p><small><a NAME="t354113"></a>tcp_rcv_push_wait</small></p>

  <dd><small>(Отладочная) Максимальное количество байт,

    полученных без установленного <a NAME="t354114"></a>флага

    PUSH, перед тем как данные передаются приложению.

    По умолчанию 16384.</small></dd>

  <p><small><a NAME="t354115"></a>tcp_rexmit_interval_initial</small></p>

  <dd><small>(Отладочная) Первоначальная величина

    тайм-аута повторной передачи. По умолчанию 500

    миллисекунд.</small></dd>

  <p><small><a NAME="t354116"></a>tcp_rexmit_interval_max</small></p>

  <dd><small>(Отладочная) Максимальная величина

    тайм-аута повторной передачи. По умолчанию 60000

    миллисекунд (60 секунд).</small></dd>

  <p><small><a NAME="t354117"></a>tcp_rexmit_interval_min</small></p>

  <dd><small>(Отладочная) Минимальная величина тайм-аута

    повторной передачи. По умолчанию 200 миллисекунд.</small></dd>

  <p><small><a NAME="t354118"></a>tcp_rwin_credit_pct</small></p>

  <dd><small>(Отладочная) Часть приемного окна (в

    процентах), которая должна быть буферизирована,

    перед тем как управление потоком проверяет

    каждый принятый сегмент. По умолчанию 50%.</small></dd>

  <p><small><a NAME="t354119"></a>tcp_smallest_anon_port</small></p>

  <dd><small><a NAME="t354120"></a>Начальный номер порта, с

    которого начинаются динамические назначаемые

    порты TCP. По умолчанию 32768.</small></dd>

  <p><small><a NAME="t354121"></a>tcp_smallest_nonpriv_port</small></p>

  <dd><small>Процессу требуются привилегии

    суперпользователя, чтобы назначить самому себе

    номер порта меньше чем этот. По умолчанию 1024.</small></dd>

  <p><small><a NAME="t354122"></a>tcp_snd_lowat_fraction</small></p>

  <dd><small>(Отладочная) Если не равно 0, метка &quot;низкой

    воды&quot; <a NAME="t354123"></a>отправляющего буфера равна

    размеру отправляющего буфера поделенного на это

    значение. По умолчанию 0 (выключено).</small></dd>

  <p><small><a NAME="t354124"></a>tcp_status</small></p>

  <dd><small>(Только для чтения) Информация о всех TCP

    соединениях.</small></dd>

  <p><small><a NAME="t354125"></a>tcp_sth_rcv_hiwat</small></p>

  <dd><small>(Отладочная) Если не равно 0, значение

    устанавливается в метку &quot;высокой воды&quot; для

    потока. По умолчанию равно 0.</small></dd>

  <p><small><a NAME="t354126"></a>tcp_sth_rcv_lowat</small></p>

  <dd><small>(Отладочная) Если не равно 0, значение

    устанавливается в метку &quot;низкой воды&quot; для

    потока. По умолчанию 0.</small></dd>

  <p><small><a NAME="t354127"></a>tcp_wroff_xtra</small></p>

  <dd><small>(Отладочная) Количество байт

    дополнительного пространства, необходимого,

    чтобы расположить в буферах IP опции и заголовки

    канального уровня. По умолчанию 32.</small></dd>

</dl>

<font size="3"><u><b>



<p><a NAME="t355000"></a>AIX 3.2.2</p>

</b></u></font>



<p><small>AIX 3.2.2 позволяет установить сетевые опции с

использованием команды <a NAME="t355001"></a>no. Она может

отобразить значения опций, установить значения

опций или установить значения по умолчанию.

Например, посмотреть опцию можно следующим

образом:</small></p>



<p><small>&nbsp;</small></p>

</font><font FACE="Courier New" size="1">



<p></font><font FACE="Courier New" size="2">aix % <b>no -o udp_ttl<br>

</b>udp_ttl = 30</font><font FACE="Arial">&nbsp;</p>



<p><small>&nbsp;</small></p>



<p><small>Модифицированы могут быть следующие опции.</small></p>



<p><small>&nbsp;</small>



<dl>

  <p><small><a NAME="t355002"></a>arpt_killc</small></p>

  <dd><small>Время (в минутах) перед тем, как

    неиспользуемая запись ARP полностью удаляется. По

    умолчанию 20.</small></dd>

  <p><small><a NAME="t355003"></a>ipforwarding</small></p>

  <dd><small>Если равно 1 (по умолчанию), <a NAME="t355004"></a>IP

    датаграммы всегда перенаправляются. Если равно 0,

    перенаправление выключено.</small></dd>

  <p><small><a NAME="t355005"></a>ipfragttl</small></p>

  <dd><small>Время жизни (в секундах) для IP фрагментов,

    которые ожидают <a NAME="t355006"></a>повторной сборки. По

    умолчанию 60.</small></dd>

  <p><small><a NAME="t355007"></a>ipsendredirects</small></p>

  <dd><small>Если равно 1 (по умолчанию), хост будет

    отправлять <a NAME="t355008"></a>ICMP перенаправления, когда

    перенаправляет IP датаграммы. Если равно 0, ICMP

    перенаправления не отправляются.</small></dd>

  <p><small><a NAME="t355009"></a>loop_check_sum</small></p>

  <dd><small>Если равно 1 (по умолчанию), <a NAME="t355010"></a>контрольная

    сумма IP рассчитывается для датаграмм, которые

    посылаются по <a NAME="t355011"></a>loopback интерфейсу. Если

    равно 0, эта контрольная сумма не рассчитывается.</small></dd>


  <p><small><a NAME="t355012"></a>nonlocsrcroute</small></p>

  <dd><small>Если равно 1 (по умолчанию), полученные

    датаграммы, содержащие <a NAME="t355013"></a>опцию

    маршрутизации от источника, перенаправляются.

    Если равно 0, эти датаграммы отбрасываются.</small></dd>

  <p><small><a NAME="t355014"></a>subnetsarelocal</small></p>

  <dd><small>Если равно 1 (по умолчанию), IP адрес

    назначения с тем же самым идентификатором сети,

    как и у отправляющего хоста, однако с другим


    идентификатором подсети, считается локальным.

    Если равно 0, только IP адреса назначения

    принадлежащие непосредственно подключенной

    подсети считаются локальными. Кратко это описано

    на рисунке Е.1. Когда происходит отправка на

    локальный пункт назначения, TCP выбирает <a NAME="t355015"></a>MSS,

    основываясь на MTU исходящего интерфейса. Когда

    происходит отправка на нелокальные пункты

    назначения, TCP использует значение по умолчанию

    (536) в качестве MSS.</small></dd>

  <p><small><a NAME="t355016"></a>tcp_keepidle</small></p>

  <dd><small>Количество 500-миллисекундных тиков часов

    перед отправкой пробы <a NAME="t355017"></a>&quot;оставайся в

    живых&quot;. Значение по умолчанию 14400 (2 часа).</small></dd>

  <p><small><a NAME="t355018"></a>tcp_keepintvl</small></p>

  <dd><small>Количество 500-миллисекундных тиков часов

    перед отправкой последовательных проб

    &quot;оставайся в живых&quot;, если не получен отклик.

    Значение по умолчанию 150 (75 секунд).</small></dd>

  <p><small><a NAME="t355019"></a>tcp_recvspace</small></p>

  <dd><small>Размер по умолчанию <a NAME="t355020"></a>приемного

    буфера TCP. Это оказывает влияние на предлагаемый

    размер окна. Значение по умолчанию 16384.</small></dd>


  <p><small><a NAME="t355021"></a>tcp_sendspace</small></p>

  <dd><small>Размер по умолчанию <a NAME="t355022"></a>отправляющего

    буфера TCP. Значение по умолчанию 16384.</small></dd>

  <p><small><a NAME="t355023"></a>tcp_ttl</small></p>

  <dd><small>Значение <a NAME="t355024"></a>TTL по умолчанию для TCP

    сегментов. Значение по умолчанию 60.</small></dd>

  <p><small><a NAME="t355025"></a>udp_recvspace</small></p>

  <dd><small>Размер по умолчанию <a NAME="t355026"></a>приемного

    буфера UDP. Значение по умолчанию 41600, что

    позволяет принять 40 датаграмм размером 1024 байта.</small></dd>

  <p><small><a NAME="t355027"></a>udp_sendspace</small></p>

  <dd><small>Размер по умолчанию <a NAME="t355028"></a>отправляющего

    буфера UDP. Определяет максимальный размер UDP

    датаграммы, которая может быть отправлена. По

    умолчанию 9216.</small></dd>

  <p><small><a NAME="t355029"></a>udp_ttl</small></p>

  <dd><small>Значение TTL по умолчанию в UDP датаграммах. По

    умолчанию 30.</small></dd>

</dl>



<p><small>&nbsp;</small></p>

<font size="3"><u><b>



<p><a NAME="t356000"></a>4.4BSD</p>

</b></u></font>



<p><small>4.4BSD это первый релиз Berkeley, который

предоставлял динамическую конфигурацию

большого количества параметров ядра. При этом

использовалась команда <a NAME="t356001"></a>sysctl(8) . Имена

параметров были выбраны так, чтобы напоминать

имена MIB из SNMP. Просмотреть параметры можно

следующим образом:</small></p>



<p><small>&nbsp;</small></p>

</font><font FACE="Courier New" size="1">



<p></font><font FACE="Courier New" size="2">vangogh % <b>sysctl net.inet.ip.forwarding<br>

</b>net.inet.ip.forwarding = 1</font><font FACE="Arial">&nbsp;</p>




<p><small>&nbsp;</small></p>



<p><small>Чтобы изменить параметр (обязательно с

привилегиями суперпользователя), можно сделать

следующее:</small></p>



<p><small>&nbsp;</small></p>

</font><font FACE="Courier New" size="1">



<p></font><font FACE="Courier New" size="2">vangogh <b># sysctl -w net.inet.ip.ttl=128</p>

</b></font><font FACE="Arial">



<p><small>&nbsp;</small></p>



<p><small>Могут быть изменены следующие параметры.</small></p>



<p><small>&nbsp;</small>



<dl>

  <p><small><a NAME="t356002"></a>net.inet.ip.forwarding</small></p>

  <dd><small>Если равно 0 (по умолчанию), <a NAME="t356003"></a>IP

    датаграммы не перенаправляются. Если равно 1,

    перенаправление включено.</small></dd>

  <p><small><a NAME="t356004"></a>net.inet.ip.redirect</small></p>

  <dd><small>Если равно 1 (по умолчанию), хост будет

    отправлять <a NAME="t356005"></a>ICMP перенаправления при

    перенаправлении IP датаграмм. Если равно 0, ICMP

    перенаправления не отправляются.</small></dd>

  <p><small><a NAME="t356006"></a>net.inet.ip.ttl</small></p>

  <dd><small>Значение TTL по умолчанию для TCP и UDP. По

    умолчанию 64.</small></dd>

  <p><small><a NAME="t356007"></a>net.inet.icmp.maskrepl</small></p>

  <dd><small>Если равно 0 (по умолчанию), хост не отвечает

    на <a NAME="t356008"></a>ICMP запросы маски адреса. Если

    равно 1 - отвечает.</small></dd>

  <p><small><a NAME="t356009"></a>net.inet.udp.checksum</small></p>

  <dd><small>Если равно 1 (по умолчанию), рассчитывается <a NAME="t356010"></a>контрольная сумма UDP для исходящих UDP

    датаграмм, а для входящих UDP датаграмм, если

    контрольная сумма не равна нулю, она проверяется.

    Если равно 0, исходящие UDP датаграммы не содержат

    контрольной суммы, и не осуществляется проверка

    контрольной суммы для входящих UDP датаграмм, даже

    если отправитель рассчитал контрольную сумму.</small></dd>

</dl>



<p><small>Помимо этого, большое количество

переменных, которые мы описали раньше в этом

приложении, находятся в различных файлах

исходных текстов (<a NAME="t356011"></a>tcp_keepidle, subnetsarelocal и

так далее) и могут быть модифицированы.</small></p>

</font>



<p><small><a HREF="index.html"><img SRC="contents.jpg" BORDER="0" WIDTH="94" HEIGHT="20"></a><a HREF="../home.htm"><img SRC="begin.jpg" BORDER="0" WIDTH="68" HEIGHT="20"></a><a HREF="glavaF.html"><img SRC="forward.jpg" BORDER="0" WIDTH="68" HEIGHT="20"></a><a HREF="glavaD.html"><img SRC="back_b.jpg" BORDER="0" WIDTH="68" HEIGHT="20"></a><img SRC="index.jpg" WIDTH="68" HEIGHT="20"></small></p>

<font size="1">



<p>&nbsp;</p>

</font>
</div>
</body>

</html>

