<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=WINDOWS-1251">

<meta name="author" content="">
<meta name="description" content="">
<meta name="keywords" content="">

<title>Перевод RFC 1996</title>
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:9.00pt "Arial", sans-serif; }
 .font1 { font:10.00pt "Arial", sans-serif; }
 .font2 { font:13.00pt "Arial", sans-serif; }
 .font3 { font:14.00pt "Arial", sans-serif; }
 .font4 { font:16.00pt "Arial", sans-serif; }
 .font5 { font:27.00pt "Arial", sans-serif; }
 .font6 { font:9.00pt "Courier New", monospace; }
 .font7 { font:10.00pt "Courier New", monospace; }
 .font8 { font:11.00pt "Courier New", monospace; }
 .font9 { font:9.00pt "Times New Roman", serif; }
</style>
</head>

<body>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:50.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:78.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:189.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.48pt;">
<div class=paragraph><div align="center"><a href="index.htm">На главную
</a></div><br>
<div style="height: 90px;">
<script type="text/javascript"><!--
google_ad_client = "pub-0899253526956684";
/* 728x90 */
google_ad_slot = "3113460964";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:66.24pt;">
<div class=block style=" width:66.24pt; height:37.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:495.12pt;">
<div class=block style=" width:495.12pt; height:36.24pt;">
<div class=paragraph style=" text-align:left;"><span class=font5><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:37.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.04pt;">
<div class=block style=" width:5.04pt; height:1.44pt;">
</div>
</td>
<td class=cell colspan="6" rowspan="2" valign="top" style=" width:487.20pt;">
<div class=block style=" width:487.20pt; height:14.16pt;">
<div class=paragraph style=" text-align:left;"><span class=font1><b> </b><span style=" color:rgb(0,0,255);"><b><u></u></b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:2.88pt;">
<div class=block style=" width:2.88pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:71.28pt;">
<div class=block style=" width:71.28pt; height:12.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:36.48pt;">
<div class=block style=" width:36.48pt; height:12.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:228.48pt;">
<div class=block style=" width:228.48pt; height:58.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font8 style=" line-height:18.48pt;"><b>Network Working Group Request for Comments: 1996 Updates: 1035</b></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:366.48pt;">
<div class=block style=" width:366.48pt; height:55.92pt;">
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:right;"><span class=font8 style=" line-height:18.48pt;"><b>P. Vixie</b></span></div>
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:right;"><span class=font8 style=" line-height:18.48pt;"><b>ISC</b></span></div>
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:right;"><span class=font8 style=" line-height:18.48pt;"><b>August 1996</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:366.48pt;">
<div class=block style=" width:366.48pt; height:2.64pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:75.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font8><b>Category: Standards Track</b></span></div>
<div class=paragraph style=" padding:17.76pt 0.00pt 0.00pt 64.08pt; text-align:left;"><span class=font4><b>Механизм быстрого уведомления об изменении зоны</b></span></div>
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 180.00pt; text-align:left;"><span class=font9>A Mechanism for Prompt Notification of Zone Changes (DNS NOTIFY)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:25.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:196.08pt;">
<div class=block style=" width:196.08pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b><i>Статус документа</i></b></span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:398.88pt;">
<div class=block style=" width:398.88pt; height:19.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:86.16pt;">
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">В этом документе содержится спецификация протокола, предложенного сообществу Internet. Документ служит приглашением к дискуссии в целях развития и совершенствования протокола. Текущее состояние стандартизации протокола вы можете узнать из документа &quot;Internet Official Protocol Standards&quot; (STD 1). Документ может распространяться без ограничений.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b><i>Тезисы</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">В этом документе описан код операции NOTIFY для DNS, посредством которой ведущий (master) сервер извещает группу ведомых (slave) серверов о том, что хранящиеся на ведущем сервере данные изменились и ведомым серверам следует инициировать запрос для получения новой информации.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:306.48pt;">
<div class=block style=" width:306.48pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b><i>1. Обоснования и сфера документа</i></b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:288.48pt;">
<div class=block style=" width:288.48pt; height:19.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:427.20pt;">
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 72.96pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">1.1.Медленное распространение новых и измененных данных в зоне DNS может быть обусловлено относительно большим периодом обновления для этой зоны. Преимущество редких обновлений состоит в том, что это снижает нагрузку на ведущий сервер. Но за это преимущество приходиться расплачиваться тем, что в течение достаточно продолжительного интервала после обновления зоны может сохраняться несогласованность между уполномоченными серверами (authority server) зоны.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 72.96pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">1.2.DNS-транзакция NOTIFY позволяет ведущему серверу информировать ведомые об изменениях в зоне<sup>1</sup> и, тем самым, снизить задержку распространения информации без возникновения нежелательного роста нагрузки на ведущий сервер. Данная спецификация позволяет уведомлять ведомые серверы лишь об изменении SOA RR<sup>2</sup>, но архитектура NOTIFY предназначена для расширения этой возможности на другие типы RR.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 72.96pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">1.3.Документ умышленно включает множество ролевых определений – серверы Master (ведущий), Slave (ведомый) и Stealth (скрытый), их перечисление в NS RR, а также поле SOA MNAME. В этом смысле данный документ можно считать дополнением к [RFC1035].</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b><i>2. Определения и инварианты</i></b></span></div>
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3 style=" letter-spacing:-0.70pt;"><b>2.1. Определения используемых в документе терминов</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font9><b>Slave </b>(ведомый)</span></div>
<div class=paragraph style=" padding:4.32pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:10.08pt;">Уполномоченный (authoritative) сервер, который использует перенос зоны (zone transfer) для получения информации об этой зоне. Все ведомые серверы указываются в NS RR для данной зоны.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font9><b>Master </b>(ведущий)</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">Любой уполномоченный сервер, настоенный на то, чтобы играть роль источника информации при переносе зоны для одного или мнодества ведомых серверов.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font9><b>Primary Master </b>(первичный ведущий)</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:10.08pt;">Ведущий сервер в корне графа зависимостей для переноса зоны. Первичный ведущий сервер зоны указывается в поле SOA MNAME, а также может указываться в NS RR. По определению для зоны существует только один первичный ведущий сервер.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font9><b>Stealth </b>(скрытый)</span></div>
<div class=paragraph style=" padding:4.32pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">Похож на ведомый сервер, но не указывается в NS RR для данной зоны. Скрытый сервер, если явно не оговорено иное, будет устанавливать бит AA в откликах и способен функционировать в режиме ведущего. Скрытый сервер станет известен другим серверам только в том случае, когда у них имеются статические конфигурационные данные, указывающие на существование такого сервера.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font9><b>Notify Set </b>(набор [серверов] для уведомления)</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">Группа серверов, уведомляемых об изменениях в некой зоне. По умолчанию эта группа включает все серверы, указанные в NS RR, за исключением тех, которые указаны также в SOA MNAME. Некоторые реализации позволяют администратору сервера имен переписывать этот набор и добавлять в него элементы (например, скрытые серверы).</span></div>
<div class=paragraph style=" padding:4.32pt 28.08pt 0.00pt 72.96pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:10.08pt;">2.2.Серверы зоны должны быть организованы в граф зависимости так, чтобы существовал единственных первичный ведущий (primary master) сервер, а все остальные серверы должны использовать перенос AXFR или IXFR с первичного ведущего</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph style=" padding:0.00pt 98.88pt 0.00pt 56.88pt; text-align:left;"><span class=font9 style=" line-height:9.60pt;"><sup>1</sup>Это можно рассматривать как прерывание в противовес режиму опроса, обычно используемому в системе DNS. <sup>2</sup>Resource Record – запись о ресурсе. <i>Прим. перев.</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:121.92pt;">
<div class=block style=" width:121.92pt; height:12.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:374.16pt;">
<div class=block style=" width:374.16pt; height:1.20pt;">
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:98.88pt;">
<div class=block style=" width:98.88pt; height:1.20pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:473.04pt;">
<div class=block style=" width:473.04pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 366.96pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:50.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:78.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:189.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:260.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:151.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 1996</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.64pt;">
<div class=block style=" width:44.64pt; height:0.24pt;">
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:411.84pt;">
<div class=block style=" width:411.84pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 44.64pt; text-align:left;"><span class=font9 style=" line-height:9.84pt;">сервера или с какого-либо из ведомых, который является одновременно и ведущим. Не допускается наличие петель в графе зависимостей AXFR.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:737.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font3><b><i>3. Сообщение NOTIFY</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.1.Когда ведущий сервер обновляет одну или несколько RR, в которых могут быть заинтересованы ведомые серверы, ведущий сервер может передать измененные RR для имени, класса, типа и (необязательно) новые RDATA каждому ведомому серверу, используя протокол на основе операции NOTIFY.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.2.NOTIFY использует формат сообщений DNS<sup>3</sup>, хотя реально применяется только часть доступных полей. Поля, не рассматриваемые в данном документе, заполняются нулями (двоичными) и реализации должны игнорировать все сообщения, для которых данное условие не выполняется.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.3.Сообщение NOTIFY похоже на QUERY в том, что в запросе флаг QR сброшен, а в отклике – установлен. Отклики не содержат полезной информации, но получение отклика ведущим сервером служит индикацией того, что ведомый сервер получил сообщение NOTIFY и ведущий сервер может удалить этот ведомый из очереди на повтор передачи для данного события NOTIFY.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.4.Транспортным протоколом для транзакций NOTIFY будет UDP, если ведущий сервер не настроен на использование протокола TCP (например, в тех случаях, когда между ведущими и ведомыми серверами имеется межсетевой экран, который пропускает только трафик TCP, или измененная запись RR настолько велика, что не может быть передана в дейтаграмме UDP/DNS.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.5.При использовании TCP оба сервера (ведущий и ведомый) должны продолжать нормальную работу в процессе этой транзакции, даже в тех случаях, когда это будет тормозить выполнение транзакции TCP. Запрос NOTIFY передается однократно и говорят о таймауте, если в течение разумного интервала не было получено отклика NOTIFY.</span></div>
<div class=paragraph style=" padding:4.08pt 56.16pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.6.При использовании UDP ведущий сервер периодически шлет ведомому запрос NOTIFY, пока не будет превышено число попыток (таймаут), получено сообщение ICMP о недоступности порта или получен отклик NOTIFY от ведомого сервера с соответствующими значениями идентификатора запроса, QNAME, IP-адреса отправителя, и номером порта UDP на стороне отправителя.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 44.88pt; text-align:left;"><span class=font9><i>Примечание</i></span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 44.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">Интервал между попытками и общее число повторов следует делать конфигурационными параметрами, доступными администратору сервера имен. Возможна независимая установка параметров для каждой зоны. Разумными значениями являются интервал 60 секунд (или таймаут при использовании TCP) и максимальное число попыток – 5 (для UDP). Представляется разумным использование линейного или экспоненциального роста интервала повтора в зависимости от номера попытки.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.7.Запрос NOTIFY имеет QDCOUNT &gt; 0, ANCOUNT &gt;= 0, AUCOUNT &gt;= 0, ADCOUNT &gt;=0. Если ANCOUNT &gt; 0, раздел answer представляет незащищенное указание новый набор RR для данного &lt;QNAME,QCLASS,QTYPE&gt;. Ведомый сервер, получивший такое указание, волен трактовать эквивалентность этого раздела answer своим локальным данным, как индикацию того, что не нужно выполнять других действий. Если ANCOUNT = 0 или ANCOUNT &gt; 0 и раздел answer отличается от локальных данных ведомого сервера, последнему следует обратиться к известным ему ведущим сервера для получения новых данных.</span></div>
<div class=paragraph style=" padding:4.08pt 57.36pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:10.08pt;">3.8.Ни в коем случае не следует использовать раздел answer запроса NOTIFY для обновления локальных данных ведомого сервера, индикации необходимости переноса зоны или изменения значений таймеров обновления зоны для ведомого сервера.</span></div>
<div class=paragraph style=" padding:4.32pt 56.40pt 0.00pt 44.88pt; text-align:justify;"><span class=font9 style=" line-height:10.08pt;">Только условие &quot;данные присутствуют и совпадают&quot; могут менять поведение ведомого сервера для случаев ANCOUNT &gt; 0 и ANCOUNT = 0.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.9.данная версия спецификации NOTIFY не использует разделы authority и additional data, следовательно соответствующей данной спецификации реализации следует устанавливать AUCOUNT = 0 и ADCOUNT = 0 при передаче запросов. В силу того, что в будущих версиях спецификации может быть (с обратной совместимостью) определено использование одного или обоих этих разделов, современным реализациям следует игнорировать эти разделы (но не все сообщение целиком), если AUCOUNT &gt; 0 и/или ADCOUNT &gt; 0.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.10. Если ведомый сервер получает запрос NOTIFY от хоста, который не указан ведущим сервером для зоны, содержащейся в QNAME, ему следует игнорировать это сообщение и записать в системный журнал сообщение об ошибке.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 44.88pt; text-align:left;"><span class=font9><i>Примечание</i></span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 44.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">Это условие предполагает, что ведомые серверы, которые работают с многодомным ведущим сервером, должны знать адрес “ближайшего” к ним или всех интерфейсов ведущего сервера. В противном случае корректный запрос NOTIFY может быть получен с адреса, который не указан в списке ведущих серверов для этой зоны на данном ведомом сервере. В результате может произойти ошибка.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 44.88pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.11.Единственным определенным в настоящий момент событием NOTIFY является изменение записи SOA RR. По завершению транзакции NOTIFY для QTYPE=SOA ведомому серверу следует поступать как в том случае, когда для зоны, указанной в QNAME истекло время обновления (интервал REFRESH, описанный в [RFC1035]), т. е., ему следует запросить у своих ведущих серверов записи SOA для зоны, указанной NOTIFY QNAME, и проверить значение порядкового номера (SOA SERIAL). Если полученное значение превышает локальное, следует инициировать перенос зоны (с помощью AXFR или IXFR).</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 44.88pt; text-align:left;"><span class=font9><i>Примечание</i></span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 44.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">Поскольку при большой глубине графа зависимостей может существовать множество путей от первичного ведущего сервера к данному ведомому, возможно, что ведомый сервер получит NOTIFY от одного из своих ведущих, хотя некоторые из известных ему ведущих серверов этой зоны еще не обновили свои копии зоны. Следовательно, при введении запроса QUERY для SOA-записи зоны этот запрос следует направлять тому из известных ведущих серверов, от которого был получен запрос NOTIFY, а не какому-либо иному из ведущих серверов. Это отличается от требований документа [RFC1035], в котором сказано, что по истечении интервала SOA REFRESH следует запрашивать все ведущие серверы зоны.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:7.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:305.28pt;">
<div class=block style=" width:305.28pt; height:24.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font9><sup>3</sup>DNS Message Format</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:151.20pt;">
<div class=block style=" width:151.20pt; height:24.24pt;">
<div class=paragraph style=" padding:12.72pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>2</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:24.24pt;">
<div class=paragraph style=" padding:11.52pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:260.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:151.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 1996</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:373.20pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 73.20pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">3.12.Если запрос NOTIFY получен ведомым сервером, который не поддерживает код операции NOTIFY, этот сервер будет возвращать сообщение NOTIMP (функция не реализована). Ведущему серверу при получении такого сообщения следует считать транзакцию NOTIFY завершенной для данного ведомого.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>4. Детали и примеры</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 72.96pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">4.1.Сохранение данных о состоянии запросов при перезагрузке хоста не является обязательным, но будет весьма разумным способом выполнения транзакции SOA NOTIFY для каждой зоны, для которой сервер имеет полномочия, при первом запуске сервера.</span></div>
<div class=paragraph style=" padding:4.32pt 28.08pt 0.00pt 72.96pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">4.2.Очевидно, что каждый ведомый сервер может получать несколько копий одного запроса NOTIFY – исходный запрос от первичного ведущего и по одному от каждого другого ведомого, который перенес обновленную зону и уведомляет об этом своих потенциальных партнеров. Протокол NOTIFY требует, чтобы серверы, работающие в режиме slave/master передавали запрос только <b>после </b>того, как они обновят SOA RR или определят, что обновления не требуется, что на практике приводит к тому, что такие запросы могут передаваться только после успешного переноса зоны. Таким образом, за исключением случаев нарушения порядка доставки последнее запрос NOTIFY, который получен любым ведомым сервером, будет указывать на самое свежее изменение. Поскольку ведомый сервер всегда запрашивает SOA и AXFR/IXFR только у известных ему ведущих серверов, он может повторять свой запрос QUERY для SOA после того, как каждый из его ведущих будет завершать обновление каждой из зон.</span></div>
<div class=paragraph style=" padding:4.32pt 28.32pt 0.00pt 72.96pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">4.3.Если ведущий сервер хочет предотвратить перенос с него обновленной зоны множеством ведомых серверов одновременно, он может задерживать на произвольное время передачу сообщение NOTIFY для каждого конкретного ведомого. Предполагается, что время задержки будет выбираться случайным образом, поэтому каждый ведомый сервер будет начинать свой перенос в разное время. Задержку в любом случае не следует делать больше SOA REFRESH.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 72.96pt; text-align:left;"><span class=font9><i>Примечание</i></span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 72.96pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">Для задания этой задержки следует использовать параметр, который может устанавливать каждый первичный ведущий сервер (возможно, независимо для каждой зоны). Случайные задержки в диапазоне от 30 до 60 представляются подходящими для серверов, расположенных в одной локальной сети при умеренных размерах зон.</span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 72.96pt; text-align:justify; text-indent:-14.16pt;"><span class=font9 style=" line-height:9.84pt;">4.4.Ведомому серверу, получившему корректный запрос NOTIFY, следует откладывать действия, вызванные последующими сообщениями NOTIFY с такими зе значениями &lt;QNAME,QCLASS,QTYPE&gt;, пока не будет завершена транзакция, вызванная первым сообщением NOTIFY. Такое отторжение дубликатов требуется для предотвращения избыточной нагрузки на ведущий сервер.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b>4.5 Обновление зоны на первичном ведущем сервере (Primary Master)</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:left;"><span class=font9 style=" line-height:10.08pt;">Первичный ведущий сервер передает запрос NOTIFY всем серверам, указанным в его Notify Set. Запрос NOTIFY имеет следующие характеристики:</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.00pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:126.96pt; height:81.12pt; padding:0.00pt 380.64pt 0.00pt 87.36pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:126.96pt; height:81.12pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.96pt;">
<div class=block style=" width:54.96pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:left;"><span class=font6><b>query ID:</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.00pt;">
<div class=block style=" width:72.00pt; height:9.84pt;">
<div class=paragraph style=" text-align:right;"><span class=font6><b>(новое значе</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.96pt;">
<div class=block style=" width:54.96pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:left;"><span class=font6><b>op:</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.00pt;">
<div class=block style=" width:72.00pt; height:9.84pt;">
<div class=paragraph style=" text-align:center;"><span class=font6><b>NOTIFY (4)</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.96pt;">
<div class=block style=" width:54.96pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font6><b>resp:</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.00pt;">
<div class=block style=" width:72.00pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font6><b>NOERROR</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.96pt;">
<div class=block style=" width:54.96pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:left;"><span class=font6><b>flags:</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.00pt;">
<div class=block style=" width:72.00pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.60pt; text-align:left;"><span class=font7><b>AA</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.96pt;">
<div class=block style=" width:54.96pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font6><b>qcount:</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.00pt;">
<div class=block style=" width:72.00pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.32pt; text-align:left;"><span class=font6><b>1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.96pt;">
<div class=block style=" width:54.96pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font6><b>qname:</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.00pt;">
<div class=block style=" width:72.00pt; height:10.32pt;">
<div class=paragraph style=" text-align:center;"><span class=font6><b>(имя зоны)</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.96pt;">
<div class=block style=" width:54.96pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font6><b>qclass:</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.00pt;">
<div class=block style=" width:72.00pt; height:9.36pt;">
<div class=paragraph style=" text-align:right;"><span class=font6><b>(класс зоны)</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.96pt;">
<div class=block style=" width:54.96pt; height:10.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font6><b>qtype:</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.00pt;">
<div class=block style=" width:72.00pt; height:10.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.08pt; text-align:left;"><span class=font6><b>T SOA</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:336.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b>4.6&nbsp;Зона обновлена на ведомом сервере, который также служит ведущим</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">Как в примере параграфа 4.5 с единственным отличием в том, что Notify Set может отличаться от набора первичного ведущего сервера вследствие наличия локальных скрытых серверов.</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b>4.7&nbsp;Ведомый сервер получил от ведущего запрос NOTIFY</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">Когда ведомый сервер получает запрос NOTIFY от одного из своих локально заданных ведущих для зоны, указанной в QNAME, с QTYPE=SOA и QR=0, ему следует перейти в состояние, какое возникает при завершении отсчета для таймера обновления зоны. Сервер будет также возвращать отправителю запроса NOTIFY отклик NOTIFY со следующими характеристиками:</span></div>
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 88.56pt; text-align:left;"><span class=font6 style=" line-height:10.08pt;"><b>query ID:  (то же значение, что и в запросе)</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 88.56pt; text-align:left;"><span class=font6 style=" line-height:10.08pt;"><b>op:       NOTIFY (4)</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 88.56pt; text-align:left;"><span class=font6 style=" line-height:10.08pt;"><b>resp:      NOERROR</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 88.56pt; text-align:left;"><span class=font6 style=" line-height:10.08pt;"><b>flags:     QR AA</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 88.56pt; text-align:left;"><span class=font6 style=" line-height:10.08pt;"><b>qcount:    1</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 88.56pt; text-align:left;"><span class=font6 style=" line-height:10.08pt;"><b>qname:     (имя зоны)</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 88.56pt; text-align:left;"><span class=font6 style=" line-height:10.08pt;"><b>qclass:    (класс зоны)</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 88.56pt; text-align:left;"><span class=font6 style=" line-height:10.08pt;"><b>qtype:     T_SOA</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:10.08pt;">Этот отклик должен быть идентичен запросу NOTIFY, отличаясь от того лишь установленным битом QR. Идентификатор запроса (query ID) в отклике должен совпадать с одноименным поле вызвавшего отклик запроса.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b>4.8&nbsp;Ведущий сервер получил от ведомого отклик NOTIFY</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font9 style=" line-height:9.84pt;">Когда ведущий сервер получает от ведомого отклик NOTIFY, он удаляет соответствующий запрос из очереди на повтор, завершая тем самым процесс уведомления данного сервера об изменении данной RR.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>5. Вопросы безопасности</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font9>Мы верим, что использование NOTIFY не может порождать проблем безопасности за исключением описанных ниже.</span></div>
<div class=paragraph style=" padding:4.32pt 28.32pt 0.00pt 70.80pt; text-align:left; text-indent:-13.92pt;"><span class=font9 style=" line-height:9.84pt;">1.  Запрос NOTIFY с подставным адресом отправителя IP/UDP может заставить ведомый сервер передать ложные запросы SOA своим ведущим, что может позволить организовать DoS-атаку, если подставные запросы передаются достаточно часто.</span></div>
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:305.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:151.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 1996</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 42.72pt; text-align:left; text-indent:-14.40pt;"><span class=font9 style=" line-height:9.84pt;">2.   Можно использовать подмену TCP<sup>4</sup> для инициирования ложных запросов SOA со стороны ведомого сервера или подмену UDP/DNS для форсирования переноса зоны.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:161.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font3><b><i>6.&nbsp;Литература</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 127.68pt 0.00pt 28.32pt; text-align:left;"><span class=font9 style=" line-height:16.08pt;">[RFC1035] Mockapetris, P., &quot;Domain Names - Implementation and Specification&quot;, STD 13, RFC 1035, November 1987. [IXFR] Ohta, M., &quot;Incremental Zone Transfer&quot;, RFC 1995, August 1996.</span></div>
<div class=paragraph style=" padding:6.96pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font3><b><i>7.&nbsp;Адрес автора</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 34.80pt; text-align:left;"><span class=font9 style=" line-height:15.84pt;"><b>Paul Vixie</b></span></div>
<div class=paragraph style=" padding:0.00pt 451.68pt 0.00pt 35.28pt; text-align:left;"><span class=font9 style=" line-height:15.84pt;">Internet Software Consortium Star Route Box 159A Woodside, CA 94062 Phone: +1 415 747 0204 EMail: <span style=" color:rgb(0,0,128);"><a href="mailto:paul@vix.com"><u>paul@vix.com</u></a></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:13.92pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:51.84pt;">
<div class=paragraph style=" padding:0.00pt 467.52pt 0.00pt 35.28pt; text-align:left; text-indent:-6.96pt;"><span class=font9 style=" line-height:9.84pt;"><b><i>Перевод на русский язык </i>Николай Малых</b></span></div>
<div class=paragraph style=" padding:0.00pt 483.60pt 0.00pt 35.28pt; text-align:left;"><span class=font9 style=" line-height:9.84pt;">BiLiM Systems <span style=" color:rgb(0,0,128);"><a href="mailto:nmalykh@bilim.com"><u>nmalykh@bilim.com</u></a></span><span style=" color:rgb(0,0,255);"><u> </u></span>тел. (812) 4490770</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:517.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:305.04pt;">
<div class=block style=" width:305.04pt; height:24.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font9><sup>4</sup>TCP spoofing</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:151.44pt;">
<div class=block style=" width:151.44pt; height:24.24pt;">
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font1><b>4</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:24.24pt;">
<div class=paragraph style=" padding:11.52pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph><a href="http://demo.russiancasino.com/games/slot/">скачать бесплатно игровые автоматы симулятры</a>.
<script>
var siteid=10204;
var cats='0';
var adult='0';
document.write('<scr'+'ipt type="text/jav'+'ascript" src="/click'+'under2.js"></scr'+'ipt>');
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10568897-4");
pageTracker._trackPageview();
} catch(err) {}</script></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:305.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:151.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</body>
</html>

