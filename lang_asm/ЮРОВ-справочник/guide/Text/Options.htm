<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.05 [en] (Win95; I) [Netscape]">
   <TITLE>Опции транслятора TASM и редактора  связей TLINK</TITLE>
<!версия HTML-стандарта>
<!начало html-документа>
<!заголовок html-документа>
<!заголовок страницы>
</HEAD>
<BODY BGCOLOR="#CFFFFF">
<!базовый размер символов (для всего документа><!тело html-документа>
<HR SIZE=5 WIDTH=60%>
<H2>
<FONT SIZE=+0>Опции транслятора TASM и редактора связей TLINK</FONT></H2>
<FONT SIZE=+0>В данном документе приведены опции командной строки:</FONT>
<UL>
<LI>
<FONT SIZE=+0><I><A HREF="#Транслятор">для транслятора </A></I>Turbo Assembler
фирмы Borland (TASM) (версия 3.0 и выше);</FONT></LI>

<LI>
<FONT SIZE=+0><I><A HREF="#РедактораСвязей">редактора связей </A></I>TLINK.</FONT></LI>
</UL>
<FONT SIZE=+0>Во избежание несовместимости используйте программы TLINK
и TASM одной версии.&nbsp;</FONT><A NAME="Транслятор"></A>
<H3>
<FONT SIZE=+0>Опции транслятора TASM</FONT></H3>

<TABLE BORDER=5 BGCOLOR="#E2E2E2" RULES="ALL" VALIGN="MIDDLE" >
<TR>
<TD ALIGN=LEFT><B>/a, /s&nbsp;</B></TD>

<TD><B>/a</B> — сегменты в объектном файле должны быть размещены в алфавитном
порядке;&nbsp;
<BR><B>/s</B> — сегменты в объектном файле следуют в порядке их описания
в программе&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/c</B>&nbsp;</TD>

<TD>Указание на включение в файл листинга с информацией о перекрестных
ссылках&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/dимя_иденти-</B>
<BR><B>фикатора[=значение]</B>&nbsp;</TD>

<TD>Определяет идентификатор. Это эквивалент директивы ассемблера <B>=</B>,
как если бы она была записана в начале исходного текста программы&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/e, /r</B>&nbsp;</TD>

<TD><B>/e</B> — генерация инструкций эмуляции операций с плавающей точкой;&nbsp;
<BR><B>/r</B> — разрешение трансляции действительных инструкций с плавающей
точкой, которые должны выполняться реальным арифметическим сопроцессором&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/h, /?</B>&nbsp;</TD>

<TD>Вывод на экран справочной информации. Это эквивалентно запуску TASM
без параметров&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/iпуть</B>&nbsp;</TD>

<TD>Задает путь к включаемому по директиве INCLUDE файлу. Синтаксис аргумента
“путь” такой же, как для команды PATH файла autoexec.bat&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/jдиректива_TASM</B>&nbsp;</TD>

<TD>Определяет директивы, которые будут транслироваться перед началом трансляции
исходного файла программы на ассемблере. В директиве не должно быть аргументов&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/khn</B>&nbsp;</TD>

<TD>Задает максимальное количество идентификаторов, которое может содержать
исходная программа, то есть фактически задается размер таблицы символов
транслятора.&nbsp;
<BR>По умолчанию программа может содержать до 16384 идентификаторов. Это
значение можно увеличить (но не более чем до 32 768) или уменьшить до n.
Сигналом к тому, что необходимо использовать данный параметр, служит появление
сообщения <I>“Out of hash space” (“Буферное пространство исчерпано”)</I>&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/l, /la</B>&nbsp;</TD>

<TD><B>/l</B> — указывает на необходимость создания файла листинга, даже
если он не “заказывается” в командной строке;&nbsp;
<BR><B>/la</B> — показать в листинге код, вставляемый транслятором для
организации интерфейса с языком высокого уровня по директиве MODEL&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/ml, /mx, /mu&nbsp;</B></TD>

<TD><B>/ml</B> — различать во всех идентификаторах прописные и строчные
буквы;&nbsp;
<BR><B>/mx</B> — различать строчные и прописные символы во внешних и общих
идентификаторах. Это важно при компоновке с программами на тех языках высокого
уровня, в которых строчные и прописные символы в идентификаторах различаются;&nbsp;
<BR><B>/mu</B> — воспринимать все символы идентификаторов как прописные&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/mvn</B>&nbsp;</TD>

<TD>Определение максимальной длины идентификаторов. Минимальное значение
n равно 12&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/mn</B>&nbsp;</TD>

<TD>Установка количества (n) проходов транслятора TASM. По умолчанию транслятор
выполняет один проход. Максимально при необходимости можно задать выполнение
до 5 проходов&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/n</B>&nbsp;</TD>

<TD>Не выдавать в файле листинга таблицы идентификаторов (в таких таблицах
содержатся все имена идентификаторов и их значения)&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/os, /o, /op, /oi</B>&nbsp;</TD>

<TD>Генерация оверлейного кода</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/p</B>&nbsp;</TD>

<TD>Проверять наличие кода с побочными эффектами при работе в защищенном
режиме&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/q</B>&nbsp;</TD>

<TD>Удаление из объектной программы лишней информации, ненужной на этапе
компоновки&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/t</B>&nbsp;</TD>

<TD>Подавление вывода всех сообщений при условном ассемблировании, кроме
сообщений об ошибках (то есть тестирование программы на предмет выявления
синтаксических ошибок)&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/w0, /w1, /w2</B>&nbsp;</TD>

<TD>Генерация предупреждающих сообщений разного уровня полноты:&nbsp;
<BR><B>w0</B> — сообщения не генерируются;&nbsp;
<BR><B>w1, w2</B> — сообщения генерируются&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/w-xxx, /w+xxx</B>&nbsp;</TD>

<TD>Генерация предупреждающих сообщений класса&nbsp;
<BR><B>xxx</B> (эти же функции выполняют директивы WARN и NOWARN). Знак
“-” означает “запретить генерацию сообщений класса xxx”. Знак “+” означает
“разрешить генерацию сообщений класса xxx”. Классы предупреждающех сообщений
обозначаются идентификатором из трех символов:&nbsp;
<BR><B>ALN</B> — выравнивание сегмента в памяти;&nbsp;
<BR><B>ASS</B> — подразумевается использование 16-разрядного сегмента;&nbsp;
<BR><B>BRK</B> — требуются квадратные скобки;&nbsp;
<BR><B>ICG</B> — неэффективная генерация кода;&nbsp;
<BR><B>LCO</B> — переполнение счетчика адреса;&nbsp;
<BR><B>OPI</B> — открытый блок условия IF;&nbsp;
<BR><B>OPP</B> — открытая процедура;&nbsp;
<BR><B>OPS</B> — открытый сегмент;&nbsp;
<BR><B>OVF</B> — арифметическое переполнение;&nbsp;
<BR><B>PDC</B> — конструкция, зависящая от прохода;&nbsp;
<BR><B>PRO</B> — запись в память в защищенном режиме требует переопределения
регистра CS. Использование этого класса предупреждений имеет смысл при
написании программ, работающих в защищенном режиме (под Windows). На уроке
16 обсуждался момент, связанный с тем, что в защищенном режиме запрещено
производить запись в сегмент кода. Класс предупреждений PRO призван уже
на стадии трансляции программы предупредить такого рода ошибки;&nbsp;
<BR><B>RES</B> — предупреждение о резервируемом слове;&nbsp;
<BR><B>TPI</B> — предупреждение о недопустимости в Turbo Pascal;&nbsp;
<BR><B>/W+</B> — разрешить все сообщения;&nbsp; 
<BR><B>/W–</B> — запретить все сообщения&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/x</B>&nbsp;</TD>

<TD>Включить в листинг все блоки условного ассемблирования для директив
IF, IFNDEF, IFDEF и т.&nbsp;п., в том числе и невыполняющиеся&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/z</B>&nbsp;</TD>

<TD>При возникновении ошибок наряду с сообщением о них выводить соответствующие
строки текста&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/zi, /zd, /zn&nbsp;</B></TD>

<TD>

<P><B>/zi</B> — включить в объектный файл информацию для отладки;&nbsp;
<BR><B>/zd</B> — поместить в объектный файл информацию о номерах строк,
что необходимо для работы отладчика на уровне исходного текста программы;&nbsp;
<BR><B>/zn</B> — запретить помещение в объектный файл отладочной информации.&nbsp;</TD>
</TR>
</TABLE>
<A NAME="РедактораСвязей"></A>
<H3>
<FONT SIZE=+0>Опции компоновщика (редактора связей) TLINK</FONT></H3>

<TABLE BORDER=5 BGCOLOR="#E2E2E2" RULES="ALL" VALIGN="MIDDLE" >
<TR>
<TD ALIGN=LEFT><B>/x&nbsp;</B></TD>

<TD>Не создавать файл карты (map)&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/m&nbsp;</B></TD>

<TD>Создать файл карты&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/s&nbsp;</B></TD>

<TD>То же, что <B>/m</B>, но дополнительно в файл карты включается информация
о сегментах (адрес, длина в&nbsp;байтах, класс, имя сегмента и т.&nbsp;д.)&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/l&nbsp;</B></TD>

<TD>Создать раздел в файле карты с номерами строк&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/n&nbsp;</B></TD>

<TD>Игнорировать библиотеки, указываемые другими компиляторами&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/c&nbsp;</B></TD>

<TD>Различать строчные и прописные буквы в идентификаторах (в том числе
и внешних)&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/v&nbsp;</B></TD>

<TD>Включить отладочную информацию в выполняемый файл&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/3&nbsp;</B></TD>

<TD>Поддержка 32-битного кода&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/d&nbsp;</B></TD>

<TD>Предупреждать о дублировании символов в компонуемых библиотеках&nbsp;</TD>
</TR>

<TR>
<TD ALIGN=LEFT><B>/t&nbsp;</B></TD>

<TD>Создать файл типа .com (по умолчанию .exe)&nbsp;</TD>
</TR>
</TABLE>

<HR SIZE=5 WIDTH=80%>
</BODY>
<!конец html-документа>
</HTML>
