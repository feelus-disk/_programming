<html lang="en">
<head>
<title>Particular Programs - Autoconf</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Autoconf">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Alternative-Programs.html#Alternative-Programs" title="Alternative Programs">
<link rel="next" href="Generic-Programs.html#Generic-Programs" title="Generic Programs">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual (24 April 2012) is for GNU Autoconf
(version 2.69),
a package for creating scripts to configure source code packages using
templates and an M4 macro package.

Copyright (C) 1992-1996, 1998-2012 Free Software Foundation,
Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Particular-Programs"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Generic-Programs.html#Generic-Programs">Generic Programs</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Alternative-Programs.html#Alternative-Programs">Alternative Programs</a>
<hr>
</div>

<h4 class="subsection">5.2.1 Particular Program Checks</h4>

<p>These macros check for particular programs&mdash;whether they exist, and
in some cases whether they support certain features.

<div class="defun">
&mdash; Macro: <b>AC_PROG_AWK</b><var><a name="index-AC_005fPROG_005fAWK-253"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fAWK-254"></a>
<a name="index-AWK-255"></a><a name="index-ac_005fcv_005fprog_005fAWK-256"></a>
Check for <code>gawk</code>, <code>mawk</code>, <code>nawk</code>, and <code>awk</code>, in that
order, and set output variable <code>AWK</code> to the first one that is found. 
It tries <code>gawk</code> first because that is reported to be the
best implementation.  The result can be overridden by setting the
variable <code>AWK</code> or the cache variable <code>ac_cv_prog_AWK</code>.

        <p>Using this macro is sufficient to avoid the pitfalls of traditional
<samp><span class="command">awk</span></samp> (see <a href="awk.html#awk">Limitations of Usual Tools</a>). 
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>AC_PROG_GREP</b><var><a name="index-AC_005fPROG_005fGREP-257"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fGREP-258"></a>
<a name="index-GREP-259"></a><a name="index-ac_005fcv_005fprog_005fGREP-260"></a>
Look for the best available <code>grep</code> or <code>ggrep</code> that accepts the
longest input lines possible, and that supports multiple <samp><span class="option">-e</span></samp> options. 
Set the output variable <code>GREP</code> to whatever is chosen. 
See <a href="grep.html#grep">Limitations of Usual Tools</a>, for more information about
portability problems with the <samp><span class="command">grep</span></samp> command family.  The result
can be overridden by setting the <code>GREP</code> variable and is cached in the
<code>ac_cv_path_GREP</code> variable. 
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>AC_PROG_EGREP</b><var><a name="index-AC_005fPROG_005fEGREP-261"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fEGREP-262"></a>
<a name="index-EGREP-263"></a><a name="index-ac_005fcv_005fprog_005fEGREP-264"></a>
Check whether <code>$GREP -E</code> works, or else look for the best available
<code>egrep</code> or <code>gegrep</code> that accepts the longest input lines possible. 
Set the output variable <code>EGREP</code> to whatever is chosen.  The result
can be overridden by setting the <code>EGREP</code> variable and is cached in the
<code>ac_cv_path_EGREP</code> variable. 
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>AC_PROG_FGREP</b><var><a name="index-AC_005fPROG_005fFGREP-265"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fFGREP-266"></a>
<a name="index-FGREP-267"></a><a name="index-ac_005fcv_005fprog_005fFGREP-268"></a>
Check whether <code>$GREP -F</code> works, or else look for the best available
<code>fgrep</code> or <code>gfgrep</code> that accepts the longest input lines possible. 
Set the output variable <code>FGREP</code> to whatever is chosen.  The result
can be overridden by setting the <code>FGREP</code> variable and is cached in the
<code>ac_cv_path_FGREP</code> variable. 
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>AC_PROG_INSTALL</b><var><a name="index-AC_005fPROG_005fINSTALL-269"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fINSTALL-270"></a>
<a name="index-INSTALL-271"></a><a name="index-INSTALL_005fPROGRAM-272"></a><a name="index-INSTALL_005fDATA-273"></a><a name="index-INSTALL_005fSCRIPT-274"></a><a name="index-ac_005fcv_005fpath_005finstall-275"></a>
Set output variable <code>INSTALL</code> to the name of a BSD-compatible
<samp><span class="command">install</span></samp> program, if one is found in the current <samp><span class="env">PATH</span></samp>. 
Otherwise, set <code>INSTALL</code> to &lsquo;<samp><var>dir</var><span class="samp">/install-sh -c</span></samp>&rsquo;,
checking the directories specified to <code>AC_CONFIG_AUX_DIR</code> (or its
default directories) to determine <var>dir</var> (see <a href="Output.html#Output">Output</a>).  Also set
the variables <code>INSTALL_PROGRAM</code> and <code>INSTALL_SCRIPT</code> to
&lsquo;<samp><span class="samp">${INSTALL}</span></samp>&rsquo; and <code>INSTALL_DATA</code> to &lsquo;<samp><span class="samp">${INSTALL} -m 644</span></samp>&rsquo;.

        <p>&lsquo;<samp><span class="samp">@INSTALL@</span></samp>&rsquo; is special, as its value may vary for different
configuration files.

        <p>This macro screens out various instances of <samp><span class="command">install</span></samp> known not to
work.  It prefers to find a C program rather than a shell script, for
speed.  Instead of <samp><span class="file">install-sh</span></samp>, it can also use <samp><span class="file">install.sh</span></samp>,
but that name is obsolete because some <samp><span class="command">make</span></samp> programs have a rule
that creates <samp><span class="file">install</span></samp> from it if there is no makefile.  Further, this
macro requires <samp><span class="command">install</span></samp> to be able to install multiple files into a
target directory in a single invocation.

        <p>Autoconf comes with a copy of <samp><span class="file">install-sh</span></samp> that you can use.  If
you use <code>AC_PROG_INSTALL</code>, you must include either
<samp><span class="file">install-sh</span></samp> or <samp><span class="file">install.sh</span></samp> in your distribution; otherwise
<samp><span class="command">configure</span></samp> produces an error message saying it can't find
them&mdash;even if the system you're on has a good <samp><span class="command">install</span></samp> program. 
This check is a safety measure to prevent you from accidentally leaving
that file out, which would prevent your package from installing on
systems that don't have a BSD-compatible <samp><span class="command">install</span></samp> program.

        <p>If you need to use your own installation program because it has features
not found in standard <samp><span class="command">install</span></samp> programs, there is no reason to use
<code>AC_PROG_INSTALL</code>; just put the file name of your program into your
<samp><span class="file">Makefile.in</span></samp> files.

        <p>The result of the test can be overridden by setting the variable
<code>INSTALL</code> or the cache variable <code>ac_cv_path_install</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>AC_PROG_MKDIR_P</b><var><a name="index-AC_005fPROG_005fMKDIR_005fP-276"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fMKDIR_005fP-277"></a>
<a name="index-MKDIR_005fP-278"></a><a name="index-ac_005fcv_005fpath_005fmkdir-279"></a>
Set output variable <code>MKDIR_P</code> to a program that ensures that for
each argument, a directory named by this argument exists, creating it
and its parent directories if needed, and without race conditions when
two instances of the program attempt to make the same directory at
nearly the same time.

        <p>This macro uses the &lsquo;<samp><span class="samp">mkdir -p</span></samp>&rsquo; command if possible.  Otherwise, it
falls back on invoking <samp><span class="command">install-sh</span></samp> with the <samp><span class="option">-d</span></samp> option,
so your package should
contain <samp><span class="file">install-sh</span></samp> as described under <code>AC_PROG_INSTALL</code>. 
An <samp><span class="file">install-sh</span></samp> file that predates Autoconf 2.60 or Automake 1.10
is vulnerable to race conditions, so if you want to support parallel
installs from
different packages into the same directory you need to make sure you
have an up-to-date <samp><span class="file">install-sh</span></samp>.  In particular, be careful about
using &lsquo;<samp><span class="samp">autoreconf -if</span></samp>&rsquo; if your Automake predates Automake 1.10.

        <p>This macro is related to the <code>AS_MKDIR_P</code> macro (see <a href="Programming-in-M4sh.html#Programming-in-M4sh">Programming in M4sh</a>), but it sets an output variable intended for use in other
files, whereas <code>AS_MKDIR_P</code> is intended for use in scripts like
<samp><span class="command">configure</span></samp>.  Also, <code>AS_MKDIR_P</code> does not accept options,
but <code>MKDIR_P</code> supports the <samp><span class="option">-m</span></samp> option, e.g., a makefile
might invoke <code>$(MKDIR_P) -m 0 dir</code> to create an inaccessible
directory, and conversely a makefile should use <code>$(MKDIR_P) --
$(FOO)</code> if <var>FOO</var> might yield a value that begins with &lsquo;<samp><span class="samp">-</span></samp>&rsquo;. 
Finally, <code>AS_MKDIR_P</code> does not check for race condition
vulnerability, whereas <code>AC_PROG_MKDIR_P</code> does.

        <p>&lsquo;<samp><span class="samp">@MKDIR_P@</span></samp>&rsquo; is special, as its value may vary for different
configuration files.

        <p>The result of the test can be overridden by setting the variable
<code>MKDIR_P</code> or the cache variable <code>ac_cv_path_mkdir</code>. 
</p></blockquote></div>

   <p><a name="AC_005fPROG_005fLEX"></a>

<div class="defun">
&mdash; Macro: <b>AC_PROG_LEX</b><var><a name="index-AC_005fPROG_005fLEX-280"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fLEX-281"></a>
<a name="index-LEX-282"></a><a name="index-LEXLIB-283"></a><a name="index-YYTEXT_005fPOINTER-284"></a><a name="index-LEX_005fOUTPUT_005fROOT-285"></a><a name="index-ac_005fcv_005fprog_005fLEX-286"></a>
If <code>flex</code> is found, set output variable <code>LEX</code> to &lsquo;<samp><span class="samp">flex</span></samp>&rsquo;
and <code>LEXLIB</code> to <samp><span class="option">-lfl</span></samp>, if that library is in a standard
place.  Otherwise set <code>LEX</code> to &lsquo;<samp><span class="samp">lex</span></samp>&rsquo; and <code>LEXLIB</code> to
<samp><span class="option">-ll</span></samp>, if found.  If neither variant is available, set <code>LEX</code>
to &lsquo;<samp><span class="samp">:</span></samp>&rsquo;; for packages that ship the generated <samp><span class="file">file.yy.c</span></samp>
alongside the source <samp><span class="file">file.l</span></samp>, this default allows users without a
lexer generator to still build the package even if the timestamp for
<samp><span class="file">file.l</span></samp> is inadvertently changed.

        <p>Define <code>YYTEXT_POINTER</code> if <code>yytext</code> defaults to &lsquo;<samp><span class="samp">char *</span></samp>&rsquo; instead
of to &lsquo;<samp><span class="samp">char []</span></samp>&rsquo;.  Also set output variable <code>LEX_OUTPUT_ROOT</code> to
the base of the file name that the lexer generates; usually
<samp><span class="file">lex.yy</span></samp>, but sometimes something else.  These results vary
according to whether <code>lex</code> or <code>flex</code> is being used.

        <p>You are encouraged to use Flex in your sources, since it is both more
pleasant to use than plain Lex and the C source it produces is portable. 
In order to ensure portability, however, you must either provide a
function <code>yywrap</code> or, if you don't use it (e.g., your scanner has
no &lsquo;<samp><span class="samp">#include</span></samp>&rsquo;-like feature), simply include a &lsquo;<samp><span class="samp">%noyywrap</span></samp>&rsquo;
statement in the scanner's source.  Once this done, the scanner is
portable (unless <em>you</em> felt free to use nonportable constructs) and
does not depend on any library.  In this case, and in this case only, it
is suggested that you use this Autoconf snippet:

     <pre class="example">          AC_PROG_LEX
          if test "x$LEX" != xflex; then
            LEX="$SHELL $missing_dir/missing flex"
            AC_SUBST([LEX_OUTPUT_ROOT], [lex.yy])
            AC_SUBST([LEXLIB], [''])
          fi
</pre>
        <p>The shell script <samp><span class="command">missing</span></samp> can be found in the Automake
distribution.

        <p>Remember that the user may have supplied an alternate location in
<samp><span class="env">LEX</span></samp>, so if Flex is required, it is better to check that the user
provided something sufficient by parsing the output of &lsquo;<samp><span class="samp">$LEX
--version</span></samp>&rsquo; than by simply relying on <code>test "x$LEX" = xflex</code>.

        <p>To ensure backward compatibility, Automake's <code>AM_PROG_LEX</code> invokes
(indirectly) this macro twice, which causes an annoying but benign
&ldquo;<code>AC_PROG_LEX</code> invoked multiple times&rdquo; warning.  Future versions
of Automake will fix this issue; meanwhile, just ignore this message.

        <p>As part of running the test, this macro may delete any file in the
configuration directory named <samp><span class="file">lex.yy.c</span></samp> or <samp><span class="file">lexyy.c</span></samp>.

        <p>The result of this test can be influenced by setting the variable
<code>LEX</code> or the cache variable <code>ac_cv_prog_LEX</code>. 
</p></blockquote></div>

   <p><a name="AC_005fPROG_005fLN_005fS"></a>

<div class="defun">
&mdash; Macro: <b>AC_PROG_LN_S</b><var><a name="index-AC_005fPROG_005fLN_005fS-287"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fLN_005fS-288"></a>
<a name="index-LN_005fS-289"></a>If &lsquo;<samp><span class="samp">ln -s</span></samp>&rsquo; works on the current file system (the operating system
and file system support symbolic links), set the output variable
<code>LN_S</code> to &lsquo;<samp><span class="samp">ln -s</span></samp>&rsquo;; otherwise, if &lsquo;<samp><span class="samp">ln</span></samp>&rsquo; works, set
<code>LN_S</code> to &lsquo;<samp><span class="samp">ln</span></samp>&rsquo;, and otherwise set it to &lsquo;<samp><span class="samp">cp -pR</span></samp>&rsquo;.

        <p>If you make a link in a directory other than the current directory, its
meaning depends on whether &lsquo;<samp><span class="samp">ln</span></samp>&rsquo; or &lsquo;<samp><span class="samp">ln -s</span></samp>&rsquo; is used.  To safely
create links using &lsquo;<samp><span class="samp">$(LN_S)</span></samp>&rsquo;, either find out which form is used
and adjust the arguments, or always invoke <code>ln</code> in the directory
where the link is to be created.

        <p>In other words, it does not work to do:
     <pre class="example">          $(LN_S) foo /x/bar
</pre>
        <p>Instead, do:

     <pre class="example">          (cd /x &amp;&amp; $(LN_S) foo bar)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Macro: <b>AC_PROG_RANLIB</b><var><a name="index-AC_005fPROG_005fRANLIB-290"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fRANLIB-291"></a>
<a name="index-RANLIB-292"></a><!-- @caindex prog_RANLIB -->
<!-- @caindex prog_ac_ct_RANLIB -->
Set output variable <code>RANLIB</code> to &lsquo;<samp><span class="samp">ranlib</span></samp>&rsquo; if <code>ranlib</code>
is found, and otherwise to &lsquo;<samp><span class="samp">:</span></samp>&rsquo; (do nothing). 
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>AC_PROG_SED</b><var><a name="index-AC_005fPROG_005fSED-293"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fSED-294"></a>
<a name="index-SED-295"></a><a name="index-ac_005fcv_005fpath_005fSED-296"></a>
Set output variable <code>SED</code> to a Sed implementation that conforms to
Posix and does not have arbitrary length limits.  Report an error if no
acceptable Sed is found.  See <a href="sed.html#sed">Limitations of Usual Tools</a>, for more
information about portability problems with Sed.

        <p>The result of this test can be overridden by setting the <code>SED</code> variable
and is cached in the <code>ac_cv_path_SED</code> variable. 
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>AC_PROG_YACC</b><var><a name="index-AC_005fPROG_005fYACC-297"></a></var><br>
<blockquote><p><a name="index-AC_005fPROG_005fYACC-298"></a>
<a name="index-YACC-299"></a><a name="index-YFLAGS-300"></a><a name="index-YACC-301"></a><a name="index-ac_005fcv_005fprog_005fYACC-302"></a>
If <code>bison</code> is found, set output variable <code>YACC</code> to &lsquo;<samp><span class="samp">bison
-y</span></samp>&rsquo;.  Otherwise, if <code>byacc</code> is found, set <code>YACC</code> to
&lsquo;<samp><span class="samp">byacc</span></samp>&rsquo;.  Otherwise set <code>YACC</code> to &lsquo;<samp><span class="samp">yacc</span></samp>&rsquo;. 
The result of this test can be influenced by setting the variable
<code>YACC</code> or the cache variable <code>ac_cv_prog_YACC</code>. 
</p></blockquote></div>

   </body></html>

